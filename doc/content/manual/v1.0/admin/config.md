시스템 설정
===========

성능과 동작에 영향을 미칠 수 있는 시스템 파라미터의 설정 정보를 제공한다. 시스템 파라미터는 시스템의 전체적인 성능과 동작을 결정한다. 이 장에서는 데이터베이스 서버, 브로커에 적용하는 설정 파일의 사용법과 개별 파라미터의 의미를 설명한다. Rye 매니저 서버 환경 설정과 관련해서는 [Rye 매니저 매뉴얼](http://www.rye.org/wiki_tools/entry/rye-manager-manual_kr) 을 참고한다.

이 장에서 설명하는 주요 내용은 다음과 같다.

-   데이터베이스 서버 설정
-   브로커 설정

데이터베이스 서버 설정
----------------------

### 데이터베이스 서버 설정이 미치는 범위

Rye는 데이터베이스 서버, 브로커, Rye 매니저로 구성되며, 각 구성요소에 대한 설정 파일이 존재한다. 데이터베이스 서버의 시스템 파라미터 설정 파일은 **rye.conf**이며 **$Rye/conf** 디렉터리에 위치한다. **rye.conf** 에 설정되는 시스템 파라미터는 데이터베이스 시스템의 전체적인 성능과 동작에 영향을 준다. 따라서, 데이터베이스 서버 설정을 이해하는 작업은 매우 중요하다.

Rye 데이터베이스 서버는 클라이언트/서버 구조로 구성된다. 구체적으로 서버 라이브러리와 링크되어 있는 데이터베이스 서버 프로세스와 클라이언트 라이브러리와 링크되어 있는 브로커 프로세스로 나뉜다. 서버 프로세스는 데이터베이스 저장 구조를 관리하고 동시성과 트랜잭션 기능을 제공하며, 클라이언트 프로세스는 질의 실행을 위한 준비 단계와 객체 관리 및 스키마 관리 기능을 수행한다.

**rye.conf** 파일에서 설정할 수 있는 데이터베이스 서버의 시스템 파라미터는 적용되는 범위에 따라 클라이언트 파라미터, 서버 파라미터, 클라이언트/서버 파라미터로 구분할 수 있다. 클라이언트 파라미터는 브로커와 같은 클라이언트 프로세스에만 적용되는 파라미터이며, 서버 파라미터는 서버 프로세스의 동작에 영향을 주는 파라미터이다. 클라이언트/서버 파라미터는 서버와 클라이언트에 적용된다.

**rye.conf 파일의 위치와 적용**

-   데이터베이스 서버 프로세스는 **$Rye/conf/rye.conf** 파일만 참조한다. 데이터베이스별 설정은 **rye.conf** 파일 내에서 섹션으로 구분한다.
-   클라이언트 프로세스는 1) **$Rye/conf/rye.conf** 파일을 참조한 후에, 2) 현재 디렉터리( **$PWD** )에 있는 **rye.conf** 파일을 추가로 참조한다. 현재 디렉터리 파일( **$PWD/rye.conf** ) 파일의 설정이 **$Rye/conf/rye.conf** 파일의 설정을 덮어쓴다. 즉, **$PWD/rye.conf**와 **$Rye/conf/rye.conf** 에서 동일한 파라미터에 대한 설정이 존재하면, **$PWD/rye.conf** 에 있는 설정이 최우선으로 적용된다.

### 데이터베이스 서버 설정값 변경

**환경 설정 파일 편집**

> **$Rye/conf** 디렉터리에 있는 시스템 파라미터 설정 파일( **rye.conf** )을 직접 편집하여 시스템 파라미터를 추가 및 삭제할 수 있으며, 파라미터의 설정값을 변경할 수 있다.
>
> 설정 파일에서 파라미터를 설정할 때 파라미터 구문 규칙은 다음과 같다.
>
> -   파라미터 이름은 대/소문자를 구분하지 않는다.
> -   파라미터 이름과 설정값은 동일한 라인에 입력되어야 한다.
> -   파라미터 값을 설정하기 위해 등호 기호(=)를 사용하며, 등호 기호의 양 옆에는 공백 문자를 사용할 수 있다.
> -   파라미터 값이 문자열인 경우 따옴표 없이 문자열만 입력한다. 다만, 해당 문자열에 공백 문자가 포함된 경우에는 따옴표를 사용한다.

**SQL 문을 사용**

> SQL 문을 이용하여 RSQL 인터프리터나 Rye 매니저의 질의 편집기에서 시스템 파라미터의 값을 설정할 수 있다. 단, 갱신할 수 있는 파라미터는 한정되어 있으므로 주의한다. 갱신할 수 있는 파라미터는 rye-conf-default-parameters 를 참고한다. :
>
>     SET SYSTEM PARAMETERS 'parameter_name=value [{; name=value}...]'
>
> *parameter\_name*은 설정값 변경이 가능한 클라이언트 파라미터 이름이고, value는 해당 파라미터의 값을 의미한다. 세미콜론(;)으로 구분하여 여러 개의 파라미터 값을 변경할 수 있다.
>
> 다음은 인덱스 스캔 작업의 결과를 OID 순으로 가져오고, RSQL 인터프리터에서 히스토리 내역으로 저장하는 질의 개수를 70개로 설정하는 예제이다.
>
> ``` sourceCode
> SET SYSTEM PARAMETERS 'index_scan_in_oid_order=1; rsql_history_num=70';
> ```

**RSQL 인터프리터의 세션 명령어 사용**

> RSQL 인터프리터 내에서 세션 명령어(**;SEt**)를 이용하여 시스템 파라미터의 값을 설정할 수 있다. 단, 갱신할 수 있는 파라미터는 한정되어 있으므로 주의한다. 갱신할 수 있는 파라미터는 rye-conf-default-parameters 를 참고한다.
>
> 다음은 데이터 정의문 수행이 허용되지 않도록 **block\_ddl\_statement** 파라미터를 1로 설정하는 예제이다. :
>
>     rsql> ;se block_ddl_statement=1
>     === Set Param Input ===
>     block_ddl_statement=1

### rye.conf 설정 파일과 기본 제공 파라미터

Rye는 데이터베이스 서버, 브로커, Rye 매니저로 구성된다. 각 구성 요소를 수행하기 위한 설정 파일 이름은 다음과 같고, 모두 **$Rye/conf** 디렉터리에 위치한다.

-   데이터베이스 서버 설정 파일 : **rye.conf**
-   브로커 설정 파일 : **rye\_broker.conf**
-   Rye 매니저 서버 설정 파일 : **cm.conf**

**rye.conf** 파일은 Rye 데이터베이스 서버에 대한 시스템 파라미터를 지정하는 설정 파일로 데이터베이스 시스템의 전체적인 성능과 동작을 결정한다. **rye.conf** 파일은 시스템 설치에 필요한 몇 가지 중요한 파라미터가 기본으로 설정된 상태로 제공된다.

**데이터베이스 서버 시스템 파라미터**

> 다음은 **rye.conf** 설정 파일에 사용 가능한 데이터베이스 서버 시스템 파라미터이다. 아래 표에서 "적용 구분"의 "클라이언트 파라미터"는 브로커 응용서버(CAS), RSQL, **rye** 유틸리티에 적용되는 파라미터를 의미하며, "서버 파라미터"는 DB 서버(cub\_server 프로세스)에 적용되는 파라미터를 의미한다. 자세한 의미는 scope-server-conf 를 참조한다.
>
> **SET SYSTEM PARAMETERS** 구문이나 RSQL 인터프리터의 세션 명령인 **;set**을 통해 DB 구동 중 동적으로 설정값 변경이 가능한 파라미터를 변경할 수 있다. DB 사용자의 권한이 DBA인 경우 적용 구분에 상관없이 파라미터 값의 변경이 가능하며, DBA가 아닌 경우 "세션" 파라미터(아래 표에서 "세션" 항목의 값이 O인 파라미터)의 값만 변경이 가능하다.
>
> 아래 표에서 "적용 구분" 항목이 "서버"인 파라미터는 cub\_server 프로세스에 영향을 끼치며, "클라이언트"인 파라미터는 CAS, RSQL 또는 클라이언트/서버 모드(--CS-mode)로 실행하는 "rye" 유틸리티에 영향을 끼친다. "클라이언트/서버"인 파라미터는 cub\_server 프로세스와 CAS, RSQL, "rye" 유틸리티에 모두 영향을 끼친다.
>
> 아래 표에는 "동적 변경"과 "세션" 파라미터 여부가 표시되어 있다. "동적 변경"이 "가능"한 파라미터는 "적용 구분"과 "세션" 파라미터 여부에 따라 적용 범위가 다음과 같이 달라진다.
>
> -   "동적 변경"이 "가능"한 파라미터 중 "적용 구분"이 "서버"이면 변경된 파라미터 값이 DB 서버에 적용되어, 이후에 접속하는 응용 프로그램들은 변경된 값을 사용하며, DB를 재구동하기 전까지는 변경된 값을 유지한다.
> -   "동적 변경"이 "가능"한 파라미터 중 "적용 구분"이 "클라이언트"이면 "세션" 파라미터에 해당하며, DB 세션 당 변경된 값이 유지된다. 즉, 변경을 요청한 응용 프로그램에만 변경된 값이 적용된다. 예를 들어, **block\_ddl\_statement** 파라미터의 값이 **yes**로 변경되면 변경을 요청한 응용 프로그램에서만 DDL 문을 사용할 수 없게 된다.
> -   "동적 변경"이 "가능"한 파라미터 중 "적용 구분"이 "클라이언트/서버"이고
>     -   "세션" 파라미터에 해당하면 DB 세션 당 변경된 값이 유지된다. 즉, 변경을 요청한 응용 프로그램에만 변경된 값이 적용되며, 서버에는 영향을 미치지 않는다.
>     -   "세션" 파라미터에 해당하지 않으면 "클라이언트" 단과 "서버" 단의 값이 변경된다. 예를 들어, **error\_log\_level** 파라미터는 "서버" 단과 "클라이언트" 단에 각각 적용되는 파라미터로, 이 값이 "ERROR"에서 "WARNING"으로 변경되면 "서버"(cub\_server 프로세스)와 해당 변경을 요청한 "클라이언트"(CAS 또는 RSQL)에만 WARNING이 적용되고, 나머지 "클라이언트"에는 "ERROR"가 유지된다.
>
> 파라미터의 값을 영구히 변경하려면 rye.conf의 설정값을 변경한 후 DB 서버와 브로커 모두 재구동해야 한다.
>
> <table style="width:100%;">
> <colgroup>
> <col width="19%" />
> <col width="22%" />
> <col width="15%" />
> <col width="5%" />
> <col width="6%" />
> <col width="19%" />
> <col width="10%" />
> </colgroup>
> <thead>
> <tr class="header">
> <th>용도 구분</th>
> <th>파라미터 이름</th>
> <th>적용 구분</th>
> <th>세션</th>
> <th>타입</th>
> <th>기본값</th>
> <th>동적 변경</th>
> </tr>
> </thead>
> <tbody>
> <tr class="odd">
> <td><dl>
> <dt>connection-parameters</dt>
> <dd><p>+</p>
> <p>+</p>
> <p>+</p>
> <p>+</p>
> </dd>
> </dl></td>
> <td><blockquote>
> <p>rye_port_id</p>
> </blockquote>
> <dl>
> <dt>-------------------------------------+</dt>
> <dd><p>check_peer_alive</p>
> </dd>
> <dt>-------------------------------------+</dt>
> <dd><p>db_hosts</p>
> </dd>
> <dt>-------------------------------------+</dt>
> <dd><p>max_clients</p>
> </dd>
> <dt>-------------------------------------+</dt>
> <dd><p>tcp_keepalive</p>
> </dd>
> </dl></td>
> <td><blockquote>
> <p>클라이언트</p>
> </blockquote>
> <dl>
> <dt>-------------------------+</dt>
> <dd><p>클라이언트/서버</p>
> </dd>
> <dt>-------------------------+</dt>
> <dd><p>클라이언트</p>
> </dd>
> <dt>-------------------------+</dt>
> <dd><p>서버</p>
> </dd>
> <dt>-------------------------+</dt>
> <dd><p>클라이언트/서버</p>
> </dd>
> </dl></td>
> <td><dl>
> <dt>---------+</dt>
> <dd><p>O</p>
> </dd>
> <dt>---------+</dt>
> <dd><p>O</p>
> </dd>
> </dl>
> <p>---------+</p>
> <p>---------+</p></td>
> <td><blockquote>
> <p>int</p>
> </blockquote>
> <dl>
> <dt>----------+</dt>
> <dd><p>string</p>
> </dd>
> <dt>----------+</dt>
> <dd><p>string</p>
> </dd>
> <dt>----------+</dt>
> <dd><p>int</p>
> </dd>
> <dt>----------+</dt>
> <dd><p>bool</p>
> </dd>
> </dl></td>
> <td><blockquote>
> <p>1,523</p>
> </blockquote>
> <dl>
> <dt>--------------------------------+</dt>
> <dd><p>both</p>
> </dd>
> <dt>--------------------------------+</dt>
> <dd><p>NULL</p>
> </dd>
> <dt>--------------------------------+</dt>
> <dd><p>100</p>
> </dd>
> <dt>--------------------------------+</dt>
> <dd><p>yes</p>
> </dd>
> </dl></td>
> <td><dl>
> <dt>-----------------+</dt>
> <dd><p>가능</p>
> </dd>
> <dt>-----------------+</dt>
> <dd><p>가능</p>
> </dd>
> </dl>
> <p>-----------------+</p>
> <p>-----------------+</p></td>
> </tr>
> <tr class="even">
> <td><p>memory-parameters</p>
> <blockquote>
> <p>+</p>
> <p>+</p>
> <p>+</p>
> <p>+</p>
> <p>+</p>
> </blockquote></td>
> <td><blockquote>
> <p>data_buffer_size</p>
> </blockquote>
> <dl>
> <dt>-------------------------------------+</dt>
> <dd><p>index_scan_oid_buffer_size</p>
> </dd>
> <dt>-------------------------------------+</dt>
> <dd><p>max_agg_hash_size</p>
> </dd>
> <dt>-------------------------------------+</dt>
> <dd><p>sort_buffer_size</p>
> </dd>
> <dt>-------------------------------------+</dt>
> <dd><p>temp_file_memory_size_in_pages</p>
> </dd>
> <dt>-------------------------------------+</dt>
> <dd><p>thread_stacksize</p>
> </dd>
> </dl></td>
> <td><blockquote>
> <p>서버</p>
> </blockquote>
> <dl>
> <dt>-------------------------+</dt>
> <dd><p>서버</p>
> </dd>
> <dt>-------------------------+</dt>
> <dd><p>서버</p>
> </dd>
> <dt>-------------------------+</dt>
> <dd><p>서버</p>
> </dd>
> <dt>-------------------------+</dt>
> <dd><p>서버</p>
> </dd>
> <dt>-------------------------+</dt>
> <dd><p>서버</p>
> </dd>
> </dl></td>
> <td><p>---------+</p>
> <p>---------+</p>
> <p>---------+</p>
> <p>---------+</p>
> <p>---------+</p></td>
> <td><blockquote>
> <p>byte</p>
> </blockquote>
> <dl>
> <dt>----------+</dt>
> <dd><p>byte</p>
> </dd>
> <dt>----------+</dt>
> <dd><p>byte</p>
> </dd>
> <dt>----------+</dt>
> <dd><p>byte</p>
> </dd>
> <dt>----------+</dt>
> <dd><p>int</p>
> </dd>
> <dt>----------+</dt>
> <dd><p>byte</p>
> </dd>
> </dl></td>
> <td><blockquote>
> <p>32,768 * db_page_size &lt;dpg&gt;</p>
> </blockquote>
> <dl>
> <dt>--------------------------------+</dt>
> <dd><p>4 * db_page_size &lt;dpg&gt;</p>
> </dd>
> <dt>--------------------------------+</dt>
> <dd><p>2,097,152(2M)</p>
> </dd>
> <dt>--------------------------------+</dt>
> <dd><p>128 * db_page_size &lt;dpg&gt;</p>
> </dd>
> <dt>--------------------------------+</dt>
> <dd><p>4</p>
> </dd>
> <dt>--------------------------------+</dt>
> <dd><p>1,048,576</p>
> </dd>
> </dl></td>
> <td><p>-----------------+</p>
> <p>-----------------+</p>
> <p>-----------------+</p>
> <p>-----------------+</p>
> <p>-----------------+</p></td>
> </tr>
> <tr class="odd">
> <td><dl>
> <dt>disk-parameters</dt>
> <dd><p>+</p>
> <p>+</p>
> <p>+</p>
> <p>+</p>
> <p>+</p>
> <p>+</p>
> <p>+</p>
> </dd>
> </dl></td>
> <td><blockquote>
> <p>db_volume_size</p>
> </blockquote>
> <dl>
> <dt>-------------------------------------+</dt>
> <dd><p>dont_reuse_heap_file</p>
> </dd>
> <dt>-------------------------------------+</dt>
> <dd><p>generic_vol_prealloc_size</p>
> </dd>
> <dt>-------------------------------------+</dt>
> <dd><p>log_volume_size</p>
> </dd>
> <dt>-------------------------------------+</dt>
> <dd><p>temp_file_max_size_in_pages</p>
> </dd>
> <dt>-------------------------------------+</dt>
> <dd><p>temp_volume_path</p>
> </dd>
> <dt>-------------------------------------+</dt>
> <dd><p>unfill_factor</p>
> </dd>
> <dt>-------------------------------------+</dt>
> <dd><p>volume_extension_path</p>
> </dd>
> </dl></td>
> <td><blockquote>
> <p>서버</p>
> </blockquote>
> <dl>
> <dt>-------------------------+</dt>
> <dd><p>서버</p>
> </dd>
> <dt>-------------------------+</dt>
> <dd><p>서버</p>
> </dd>
> <dt>-------------------------+</dt>
> <dd><p>서버</p>
> </dd>
> <dt>-------------------------+</dt>
> <dd><p>서버</p>
> </dd>
> <dt>-------------------------+</dt>
> <dd><p>서버</p>
> </dd>
> <dt>-------------------------+</dt>
> <dd><p>서버</p>
> </dd>
> <dt>-------------------------+</dt>
> <dd><p>서버</p>
> </dd>
> </dl></td>
> <td><p>---------+</p>
> <p>---------+</p>
> <p>---------+</p>
> <p>---------+</p>
> <p>---------+</p>
> <p>---------+</p>
> <p>---------+</p></td>
> <td><blockquote>
> <p>byte</p>
> </blockquote>
> <dl>
> <dt>----------+</dt>
> <dd><p>bool</p>
> </dd>
> <dt>----------+</dt>
> <dd><p>byte</p>
> </dd>
> <dt>----------+</dt>
> <dd><p>byte</p>
> </dd>
> <dt>----------+</dt>
> <dd><p>int</p>
> </dd>
> <dt>----------+</dt>
> <dd><p>string</p>
> </dd>
> <dt>----------+</dt>
> <dd><p>float</p>
> </dd>
> <dt>----------+</dt>
> <dd><p>string</p>
> </dd>
> </dl></td>
> <td><blockquote>
> <p>512M</p>
> </blockquote>
> <dl>
> <dt>--------------------------------+</dt>
> <dd><p>no</p>
> </dd>
> <dt>--------------------------------+</dt>
> <dd><p>50M</p>
> </dd>
> <dt>--------------------------------+</dt>
> <dd><p>512M</p>
> </dd>
> <dt>--------------------------------+</dt>
> <dd><p>-1</p>
> </dd>
> <dt>--------------------------------+</dt>
> <dd><p>NULL</p>
> </dd>
> <dt>--------------------------------+</dt>
> <dd><p>0.1</p>
> </dd>
> <dt>--------------------------------+</dt>
> <dd><p>NULL</p>
> </dd>
> </dl></td>
> <td><p>-----------------+</p>
> <p>-----------------+</p>
> <p>-----------------+</p>
> <p>-----------------+</p>
> <p>-----------------+</p>
> <p>-----------------+</p>
> <p>-----------------+</p></td>
> </tr>
> <tr class="even">
> <td><dl>
> <dt>error-parameters</dt>
> <dd><p>+</p>
> <p>+</p>
> <p>+</p>
> <p>+</p>
> <p>+</p>
> <p>+</p>
> </dd>
> </dl></td>
> <td><blockquote>
> <p>call_stack_dump_activation_list</p>
> </blockquote>
> <dl>
> <dt>-------------------------------------+</dt>
> <dd><p>call_stack_dump_deactivation_list</p>
> </dd>
> <dt>-------------------------------------+</dt>
> <dd><p>call_stack_dump_on_error</p>
> </dd>
> <dt>-------------------------------------+</dt>
> <dd><p>error_log</p>
> </dd>
> <dt>-------------------------------------+</dt>
> <dd><p>error_log_level</p>
> </dd>
> <dt>-------------------------------------+</dt>
> <dd><p>error_log_warning</p>
> </dd>
> <dt>-------------------------------------+</dt>
> <dd><p>error_log_size</p>
> </dd>
> </dl></td>
> <td><blockquote>
> <p>클라이언트/서버</p>
> </blockquote>
> <dl>
> <dt>-------------------------+</dt>
> <dd><p>클라이언트/서버</p>
> </dd>
> <dt>-------------------------+</dt>
> <dd><p>클라이언트/서버</p>
> </dd>
> <dt>-------------------------+</dt>
> <dd><p>클라이언트/서버</p>
> </dd>
> <dt>-------------------------+</dt>
> <dd><p>클라이언트/서버</p>
> </dd>
> <dt>-------------------------+</dt>
> <dd><p>클라이언트/서버</p>
> </dd>
> <dt>-------------------------+</dt>
> <dd><p>클라이언트/서버</p>
> </dd>
> </dl></td>
> <td><p>---------+</p>
> <p>---------+</p>
> <p>---------+</p>
> <p>---------+</p>
> <p>---------+</p>
> <p>---------+</p></td>
> <td><blockquote>
> <p>string</p>
> </blockquote>
> <dl>
> <dt>----------+</dt>
> <dd><p>string</p>
> </dd>
> <dt>----------+</dt>
> <dd><p>bool</p>
> </dd>
> <dt>----------+</dt>
> <dd><p>string</p>
> </dd>
> <dt>----------+</dt>
> <dd><p>string</p>
> </dd>
> <dt>----------+</dt>
> <dd><p>bool</p>
> </dd>
> <dt>----------+</dt>
> <dd><p>int</p>
> </dd>
> </dl></td>
> <td><blockquote>
> <p>DEFAULT</p>
> </blockquote>
> <dl>
> <dt>--------------------------------+</dt>
> <dd><p>NULL</p>
> </dd>
> <dt>--------------------------------+</dt>
> <dd><p>no</p>
> </dd>
> <dt>--------------------------------+</dt>
> <dd><p>cub_client.err, cub_server.err</p>
> </dd>
> <dt>--------------------------------+</dt>
> <dd><p>SYNTAX</p>
> </dd>
> <dt>--------------------------------+</dt>
> <dd><p>no</p>
> </dd>
> <dt>--------------------------------+</dt>
> <dd><p>8,000,000</p>
> </dd>
> </dl></td>
> <td><blockquote>
> <p>DBA만 가능</p>
> </blockquote>
> <dl>
> <dt>-----------------+</dt>
> <dd><p>DBA만 가능</p>
> </dd>
> <dt>-----------------+</dt>
> <dd><p>DBA만 가능</p>
> </dd>
> </dl>
> <p>-----------------+</p>
> <dl>
> <dt>-----------------+</dt>
> <dd><p>DBA만 가능</p>
> </dd>
> <dt>-----------------+</dt>
> <dd><p>DBA만 가능</p>
> </dd>
> <dt>-----------------+</dt>
> <dd><p>DBA만 가능</p>
> </dd>
> </dl></td>
> </tr>
> <tr class="odd">
> <td><dl>
> <dt>lock-parameters</dt>
> <dd><p>+</p>
> <p>+</p>
> <p>+</p>
> <p>+</p>
> </dd>
> </dl></td>
> <td><blockquote>
> <p>deadlock_detection_interval_in_secs</p>
> </blockquote>
> <dl>
> <dt>-------------------------------------+</dt>
> <dd><p>isolation_level</p>
> </dd>
> <dt>-------------------------------------+</dt>
> <dd><p>lock_escalation</p>
> </dd>
> <dt>-------------------------------------+</dt>
> <dd><p>lock_timeout</p>
> </dd>
> <dt>-------------------------------------+</dt>
> <dd><p>rollback_on_lock_escalation</p>
> </dd>
> </dl></td>
> <td><blockquote>
> <p>서버</p>
> </blockquote>
> <dl>
> <dt>-------------------------+</dt>
> <dd><p>클라이언트</p>
> </dd>
> <dt>-------------------------+</dt>
> <dd><p>서버</p>
> </dd>
> <dt>-------------------------+</dt>
> <dd><p>클라이언트</p>
> </dd>
> <dt>-------------------------+</dt>
> <dd><p>서버</p>
> </dd>
> </dl></td>
> <td><dl>
> <dt>---------+</dt>
> <dd><p>O</p>
> </dd>
> </dl>
> <p>---------+</p>
> <dl>
> <dt>---------+</dt>
> <dd><p>O</p>
> </dd>
> </dl>
> <p>---------+</p></td>
> <td><blockquote>
> <p>float</p>
> </blockquote>
> <dl>
> <dt>----------+</dt>
> <dd><p>int</p>
> </dd>
> <dt>----------+</dt>
> <dd><p>int</p>
> </dd>
> <dt>----------+</dt>
> <dd><p>msec</p>
> </dd>
> <dt>----------+</dt>
> <dd><p>bool</p>
> </dd>
> </dl></td>
> <td><blockquote>
> <p>1.0</p>
> </blockquote>
> <dl>
> <dt>--------------------------------+</dt>
> <dd><p>3</p>
> </dd>
> <dt>--------------------------------+</dt>
> <dd><p>100,000</p>
> </dd>
> <dt>--------------------------------+</dt>
> <dd><p>-1</p>
> </dd>
> <dt>--------------------------------+</dt>
> <dd><p>no</p>
> </dd>
> </dl></td>
> <td><blockquote>
> <p>DBA만 가능</p>
> </blockquote>
> <dl>
> <dt>-----------------+</dt>
> <dd><p>가능</p>
> </dd>
> </dl>
> <p>-----------------+</p>
> <dl>
> <dt>-----------------+</dt>
> <dd><p>가능</p>
> </dd>
> <dt>-----------------+</dt>
> <dd><p>DBA만 가능</p>
> </dd>
> </dl></td>
> </tr>
> <tr class="even">
> <td><dl>
> <dt>logging-parameters</dt>
> <dd><p>+</p>
> <p>+</p>
> <p>+</p>
> <p>+</p>
> <p>+</p>
> <p>+</p>
> <p>+</p>
> <p>+</p>
> <p>+</p>
> <p>+</p>
> <p>+</p>
> </dd>
> </dl></td>
> <td><blockquote>
> <p>adaptive_flush_control</p>
> </blockquote>
> <dl>
> <dt>-------------------------------------+</dt>
> <dd><p>background_archiving</p>
> </dd>
> <dt>-------------------------------------+</dt>
> <dd><p>checkpoint_every_size</p>
> </dd>
> <dt>-------------------------------------+</dt>
> <dd><p>checkpoint_interval</p>
> </dd>
> <dt>-------------------------------------+</dt>
> <dd><p>checkpoint_sleep_msecs</p>
> </dd>
> <dt>-------------------------------------+</dt>
> <dd><p>force_remove_log_archives</p>
> </dd>
> <dt>-------------------------------------+</dt>
> <dd><p>log_buffer_size</p>
> </dd>
> <dt>-------------------------------------+</dt>
> <dd><p>log_max_archives</p>
> </dd>
> <dt>-------------------------------------+</dt>
> <dd><p>log_trace_flush_time</p>
> </dd>
> <dt>-------------------------------------+</dt>
> <dd><p>max_flush_size_per_second</p>
> </dd>
> <dt>-------------------------------------+</dt>
> <dd><p>remove_log_archive_interval_in_secs</p>
> </dd>
> <dt>-------------------------------------+</dt>
> <dd><p>sync_on_flush_size</p>
> </dd>
> </dl></td>
> <td><blockquote>
> <p>서버</p>
> </blockquote>
> <dl>
> <dt>-------------------------+</dt>
> <dd><p>서버</p>
> </dd>
> <dt>-------------------------+</dt>
> <dd><p>서버</p>
> </dd>
> <dt>-------------------------+</dt>
> <dd><p>서버</p>
> </dd>
> <dt>-------------------------+</dt>
> <dd><p>서버</p>
> </dd>
> <dt>-------------------------+</dt>
> <dd><p>서버</p>
> </dd>
> <dt>-------------------------+</dt>
> <dd><p>서버</p>
> </dd>
> <dt>-------------------------+</dt>
> <dd><p>서버</p>
> </dd>
> <dt>-------------------------+</dt>
> <dd><p>서버</p>
> </dd>
> <dt>-------------------------+</dt>
> <dd><p>서버</p>
> </dd>
> <dt>-------------------------+</dt>
> <dd><p>서버</p>
> </dd>
> <dt>-------------------------+</dt>
> <dd><p>서버</p>
> </dd>
> </dl></td>
> <td><p>---------+</p>
> <p>---------+</p>
> <p>---------+</p>
> <p>---------+</p>
> <p>---------+</p>
> <p>---------+</p>
> <p>---------+</p>
> <p>---------+</p>
> <p>---------+</p>
> <p>---------+</p>
> <p>---------+</p></td>
> <td><blockquote>
> <p>bool</p>
> </blockquote>
> <dl>
> <dt>----------+</dt>
> <dd><p>bool</p>
> </dd>
> <dt>----------+</dt>
> <dd><p>byte</p>
> </dd>
> <dt>----------+</dt>
> <dd><p>msec</p>
> </dd>
> <dt>----------+</dt>
> <dd><p>msec</p>
> </dd>
> <dt>----------+</dt>
> <dd><p>bool</p>
> </dd>
> <dt>----------+</dt>
> <dd><p>byte</p>
> </dd>
> <dt>----------+</dt>
> <dd><p>int</p>
> </dd>
> <dt>----------+</dt>
> <dd><p>msec</p>
> </dd>
> <dt>----------+</dt>
> <dd><p>byte</p>
> </dd>
> <dt>----------+</dt>
> <dd><p>sec</p>
> </dd>
> <dt>----------+</dt>
> <dd><p>byte</p>
> </dd>
> </dl></td>
> <td><blockquote>
> <p>yes</p>
> </blockquote>
> <dl>
> <dt>--------------------------------+</dt>
> <dd><p>yes</p>
> </dd>
> <dt>--------------------------------+</dt>
> <dd><p>10,000 * log_page_size &lt;lpg&gt;</p>
> </dd>
> <dt>--------------------------------+</dt>
> <dd><p>6min</p>
> </dd>
> <dt>--------------------------------+</dt>
> <dd><p>1</p>
> </dd>
> <dt>--------------------------------+</dt>
> <dd><p>yes</p>
> </dd>
> <dt>--------------------------------+</dt>
> <dd><p>128 * log_page_size &lt;lpg&gt;</p>
> </dd>
> <dt>--------------------------------+</dt>
> <dd><p>INT_MAX</p>
> </dd>
> <dt>--------------------------------+</dt>
> <dd><p>0</p>
> </dd>
> <dt>--------------------------------+</dt>
> <dd><p>10,000 * db_page_size &lt;dpg&gt;</p>
> </dd>
> <dt>--------------------------------+</dt>
> <dd><p>0</p>
> </dd>
> <dt>--------------------------------+</dt>
> <dd><p>200 * db_page_size &lt;dpg&gt;</p>
> </dd>
> </dl></td>
> <td><blockquote>
> <p>DBA만 가능</p>
> </blockquote>
> <dl>
> <dt>-----------------+</dt>
> <dd><p>DBA만 가능</p>
> </dd>
> </dl>
> <p>-----------------+</p>
> <dl>
> <dt>-----------------+</dt>
> <dd><p>DBA만 가능</p>
> </dd>
> <dt>-----------------+</dt>
> <dd><p>DBA만 가능</p>
> </dd>
> <dt>-----------------+</dt>
> <dd><p>DBA만 가능</p>
> </dd>
> </dl>
> <p>-----------------+</p>
> <dl>
> <dt>-----------------+</dt>
> <dd><p>DBA만 가능</p>
> </dd>
> <dt>-----------------+</dt>
> <dd><p>DBA만 가능</p>
> </dd>
> <dt>-----------------+</dt>
> <dd><p>DBA만 가능</p>
> </dd>
> <dt>-----------------+</dt>
> <dd><p>DBA만 가능</p>
> </dd>
> <dt>-----------------+</dt>
> <dd><p>DBA만 가능</p>
> </dd>
> </dl></td>
> </tr>
> <tr class="odd">
> <td><dl>
> <dt>transaction-parameters</dt>
> <dd><p>+</p>
> </dd>
> </dl></td>
> <td><blockquote>
> <p>async_commit</p>
> </blockquote>
> <dl>
> <dt>-------------------------------------+</dt>
> <dd><p>async_log_flush_interval</p>
> </dd>
> </dl></td>
> <td><blockquote>
> <p>서버</p>
> </blockquote>
> <dl>
> <dt>-------------------------+</dt>
> <dd><p>서버</p>
> </dd>
> </dl></td>
> <td>---------+</td>
> <td><blockquote>
> <p>bool</p>
> </blockquote>
> <dl>
> <dt>----------+</dt>
> <dd><p>msec</p>
> </dd>
> </dl></td>
> <td><blockquote>
> <p>no</p>
> </blockquote>
> <dl>
> <dt>--------------------------------+</dt>
> <dd><p>0</p>
> </dd>
> </dl></td>
> <td><dl>
> <dt>-----------------+</dt>
> <dd><p>DBA만 가능</p>
> </dd>
> </dl></td>
> </tr>
> <tr class="even">
> <td><dl>
> <dt>stmt-type-parameters</dt>
> <dd><p>+</p>
> <p>+</p>
> <p>+</p>
> <p>+</p>
> <p>+</p>
> <p>+</p>
> <p>+</p>
> <p>+</p>
> <p>+</p>
> <p>+</p>
> <p>+</p>
> <p>+</p>
> <p>+</p>
> <p>+</p>
> <p>+</p>
> <p>+</p>
> <p>+</p>
> <p>+</p>
> <p>+</p>
> <p>+</p>
> <p>+</p>
> </dd>
> </dl></td>
> <td><blockquote>
> <p>add_column_update_hard_default</p>
> </blockquote>
> <dl>
> <dt>-------------------------------------+</dt>
> <dd><p>alter_table_change_type_strict</p>
> </dd>
> <dt>-------------------------------------+</dt>
> <dd><p>ansi_quotes</p>
> </dd>
> <dt>-------------------------------------+</dt>
> <dd><p>block_ddl_statement</p>
> </dd>
> <dt>-------------------------------------+</dt>
> <dd><p>block_nowhere_statement</p>
> </dd>
> <dt>-------------------------------------+</dt>
> <dd><p>compat_numeric_division_scale</p>
> </dd>
> <dt>-------------------------------------+</dt>
> <dd><p>default_week_format</p>
> </dd>
> <dt>-------------------------------------+</dt>
> <dd><p>group_concat_max_len</p>
> </dd>
> <dt>-------------------------------------+</dt>
> <dd><p>intl_check_input_string</p>
> </dd>
> <dt>-------------------------------------+</dt>
> <dd><p>intl_collation</p>
> </dd>
> <dt>-------------------------------------+</dt>
> <dd><p>intl_date_lang</p>
> </dd>
> <dt>-------------------------------------+</dt>
> <dd><p>intl_number_lang</p>
> </dd>
> <dt>-------------------------------------+</dt>
> <dd><p>no_backslash_escapes</p>
> </dd>
> <dt>-------------------------------------+</dt>
> <dd><p>only_full_group_by</p>
> </dd>
> <dt>-------------------------------------+</dt>
> <dd><p>oracle_style_empty_string</p>
> </dd>
> <dt>-------------------------------------+</dt>
> <dd><p>pipes_as_concat</p>
> </dd>
> <dt>-------------------------------------+</dt>
> <dd><p>plus_as_concat</p>
> </dd>
> <dt>-------------------------------------+</dt>
> <dd><p>require_like_escape_character</p>
> </dd>
> <dt>-------------------------------------+</dt>
> <dd><p>return_null_on_function_errors</p>
> </dd>
> <dt>-------------------------------------+</dt>
> <dd><p>string_max_size_bytes</p>
> </dd>
> <dt>-------------------------------------+</dt>
> <dd><p>unicode_input_normalization</p>
> </dd>
> <dt>-------------------------------------+</dt>
> <dd><p>unicode_output_normalization</p>
> </dd>
> </dl></td>
> <td><blockquote>
> <p>클라이언트/서버</p>
> </blockquote>
> <dl>
> <dt>-------------------------+</dt>
> <dd><p>클라이언트/서버</p>
> </dd>
> <dt>-------------------------+</dt>
> <dd><p>클라이언트</p>
> </dd>
> <dt>-------------------------+</dt>
> <dd><p>클라이언트</p>
> </dd>
> <dt>-------------------------+</dt>
> <dd><p>클라이언트</p>
> </dd>
> <dt>-------------------------+</dt>
> <dd><p>클라이언트/서버</p>
> </dd>
> <dt>-------------------------+</dt>
> <dd><p>클라이언트/서버</p>
> </dd>
> <dt>-------------------------+</dt>
> <dd><p>서버</p>
> </dd>
> <dt>-------------------------+</dt>
> <dd><p>클라이언트</p>
> </dd>
> <dt>-------------------------+</dt>
> <dd><p>클라이언트</p>
> </dd>
> <dt>-------------------------+</dt>
> <dd><p>클라이언트</p>
> </dd>
> <dt>-------------------------+</dt>
> <dd><p>클라이언트</p>
> </dd>
> <dt>-------------------------+</dt>
> <dd><p>클라이언트</p>
> </dd>
> <dt>-------------------------+</dt>
> <dd><p>클라이언트</p>
> </dd>
> <dt>-------------------------+</dt>
> <dd><p>클라이언트</p>
> </dd>
> <dt>-------------------------+</dt>
> <dd><p>클라이언트</p>
> </dd>
> <dt>-------------------------+</dt>
> <dd><p>클라이언트</p>
> </dd>
> <dt>-------------------------+</dt>
> <dd><p>클라이언트</p>
> </dd>
> <dt>-------------------------+</dt>
> <dd><p>클라이언트/서버</p>
> </dd>
> <dt>-------------------------+</dt>
> <dd><p>클라이언트/서버</p>
> </dd>
> <dt>-------------------------+</dt>
> <dd><p>클라이언트</p>
> </dd>
> <dt>-------------------------+</dt>
> <dd><p>클라이언트</p>
> </dd>
> </dl></td>
> <td><blockquote>
> <p>O</p>
> </blockquote>
> <dl>
> <dt>---------+</dt>
> <dd><p>O</p>
> </dd>
> </dl>
> <p>---------+</p>
> <dl>
> <dt>---------+</dt>
> <dd><p>O</p>
> </dd>
> <dt>---------+</dt>
> <dd><p>O</p>
> </dd>
> <dt>---------+</dt>
> <dd><p>O</p>
> </dd>
> <dt>---------+</dt>
> <dd><p>O</p>
> </dd>
> <dt>---------+</dt>
> <dd><p>O</p>
> </dd>
> <dt>---------+</dt>
> <dd><p>O</p>
> </dd>
> <dt>---------+</dt>
> <dd><p>O</p>
> </dd>
> <dt>---------+</dt>
> <dd><p>O</p>
> </dd>
> <dt>---------+</dt>
> <dd><p>O</p>
> </dd>
> </dl>
> <p>---------+</p>
> <dl>
> <dt>---------+</dt>
> <dd><p>O</p>
> </dd>
> </dl>
> <p>---------+</p>
> <p>---------+</p>
> <p>---------+</p>
> <p>---------+</p>
> <dl>
> <dt>---------+</dt>
> <dd><p>O</p>
> </dd>
> <dt>---------+</dt>
> <dd><p>O</p>
> </dd>
> <dt>---------+</dt>
> <dd><p>O</p>
> </dd>
> <dt>---------+</dt>
> <dd><p>O</p>
> </dd>
> </dl></td>
> <td><blockquote>
> <p>bool</p>
> </blockquote>
> <dl>
> <dt>----------+</dt>
> <dd><p>bool</p>
> </dd>
> <dt>----------+</dt>
> <dd><p>bool</p>
> </dd>
> <dt>----------+</dt>
> <dd><p>bool</p>
> </dd>
> <dt>----------+</dt>
> <dd><p>bool</p>
> </dd>
> <dt>----------+</dt>
> <dd><p>bool</p>
> </dd>
> <dt>----------+</dt>
> <dd><p>int</p>
> </dd>
> <dt>----------+</dt>
> <dd><p>byte</p>
> </dd>
> <dt>----------+</dt>
> <dd><p>bool</p>
> </dd>
> <dt>----------+</dt>
> <dd><p>string</p>
> </dd>
> <dt>----------+</dt>
> <dd><p>string</p>
> </dd>
> <dt>----------+</dt>
> <dd><p>string</p>
> </dd>
> <dt>----------+</dt>
> <dd><p>bool</p>
> </dd>
> <dt>----------+</dt>
> <dd><p>bool</p>
> </dd>
> <dt>----------+</dt>
> <dd><p>bool</p>
> </dd>
> <dt>----------+</dt>
> <dd><p>bool</p>
> </dd>
> <dt>----------+</dt>
> <dd><p>bool</p>
> </dd>
> <dt>----------+</dt>
> <dd><p>bool</p>
> </dd>
> <dt>----------+</dt>
> <dd><p>bool</p>
> </dd>
> <dt>----------+</dt>
> <dd><p>byte</p>
> </dd>
> <dt>----------+</dt>
> <dd><p>bool</p>
> </dd>
> <dt>----------+</dt>
> <dd><p>bool</p>
> </dd>
> </dl></td>
> <td><blockquote>
> <p>no</p>
> </blockquote>
> <dl>
> <dt>--------------------------------+</dt>
> <dd><p>no</p>
> </dd>
> <dt>--------------------------------+</dt>
> <dd><p>yes</p>
> </dd>
> <dt>--------------------------------+</dt>
> <dd><p>no</p>
> </dd>
> <dt>--------------------------------+</dt>
> <dd><p>no</p>
> </dd>
> <dt>--------------------------------+</dt>
> <dd><p>no</p>
> </dd>
> <dt>--------------------------------+</dt>
> <dd><p>0</p>
> </dd>
> <dt>--------------------------------+</dt>
> <dd><p>1,024</p>
> </dd>
> <dt>--------------------------------+</dt>
> <dd><p>no</p>
> </dd>
> </dl>
> <p>--------------------------------+</p>
> <p>--------------------------------+</p>
> <p>--------------------------------+</p>
> <dl>
> <dt>--------------------------------+</dt>
> <dd><p>yes</p>
> </dd>
> <dt>--------------------------------+</dt>
> <dd><p>no</p>
> </dd>
> <dt>--------------------------------+</dt>
> <dd><p>no</p>
> </dd>
> <dt>--------------------------------+</dt>
> <dd><p>yes</p>
> </dd>
> <dt>--------------------------------+</dt>
> <dd><p>yes</p>
> </dd>
> <dt>--------------------------------+</dt>
> <dd><p>no</p>
> </dd>
> <dt>--------------------------------+</dt>
> <dd><p>no</p>
> </dd>
> <dt>--------------------------------+</dt>
> <dd><p>1,048,576</p>
> </dd>
> <dt>--------------------------------+</dt>
> <dd><p>no</p>
> </dd>
> <dt>--------------------------------+</dt>
> <dd><p>no</p>
> </dd>
> </dl></td>
> <td><blockquote>
> <p>가능</p>
> </blockquote>
> <dl>
> <dt>-----------------+</dt>
> <dd><p>가능</p>
> </dd>
> </dl>
> <p>-----------------+</p>
> <dl>
> <dt>-----------------+</dt>
> <dd><p>가능</p>
> </dd>
> <dt>-----------------+</dt>
> <dd><p>가능</p>
> </dd>
> <dt>-----------------+</dt>
> <dd><p>가능</p>
> </dd>
> <dt>-----------------+</dt>
> <dd><p>가능</p>
> </dd>
> <dt>-----------------+</dt>
> <dd><p>DBA만 가능</p>
> </dd>
> <dt>-----------------+</dt>
> <dd><p>가능</p>
> </dd>
> <dt>-----------------+</dt>
> <dd><p>가능</p>
> </dd>
> <dt>-----------------+</dt>
> <dd><p>가능</p>
> </dd>
> <dt>-----------------+</dt>
> <dd><p>가능</p>
> </dd>
> </dl>
> <p>-----------------+</p>
> <dl>
> <dt>-----------------+</dt>
> <dd><p>가능</p>
> </dd>
> </dl>
> <p>-----------------+</p>
> <p>-----------------+</p>
> <p>-----------------+</p>
> <p>-----------------+</p>
> <dl>
> <dt>-----------------+</dt>
> <dd><p>가능</p>
> </dd>
> <dt>-----------------+</dt>
> <dd><p>가능</p>
> </dd>
> <dt>-----------------+</dt>
> <dd><p>가능</p>
> </dd>
> <dt>-----------------+</dt>
> <dd><p>가능</p>
> </dd>
> </dl></td>
> </tr>
> <tr class="odd">
> <td><dl>
> <dt>plan-cache-parameters</dt>
> <dd><p>+</p>
> </dd>
> </dl></td>
> <td><blockquote>
> <p>max_plan_cache_entries</p>
> </blockquote>
> <dl>
> <dt>-------------------------------------+</dt>
> <dd><p>max_filter_pred_cache_entries</p>
> </dd>
> </dl></td>
> <td><blockquote>
> <p>클라이언트/서버</p>
> </blockquote>
> <dl>
> <dt>-------------------------+</dt>
> <dd><p>클라이언트/서버</p>
> </dd>
> </dl></td>
> <td><blockquote>
> <p>O</p>
> </blockquote>
> ---------+</td>
> <td><blockquote>
> <p>int</p>
> </blockquote>
> <dl>
> <dt>----------+</dt>
> <dd><p>int</p>
> </dd>
> </dl></td>
> <td><blockquote>
> <p>1,000</p>
> </blockquote>
> <dl>
> <dt>--------------------------------+</dt>
> <dd><p>1,000</p>
> </dd>
> </dl></td>
> <td>-----------------+</td>
> </tr>
> <tr class="even">
> <td><dl>
> <dt>utility-parameters</dt>
> <dd><p>+</p>
> <p>+</p>
> <p>+</p>
> </dd>
> </dl></td>
> <td><blockquote>
> <p>backup_volume_max_size_bytes</p>
> </blockquote>
> <dl>
> <dt>-------------------------------------+</dt>
> <dd><p>communication_histogram</p>
> </dd>
> <dt>-------------------------------------+</dt>
> <dd><p>compactdb_page_reclaim_only</p>
> </dd>
> <dt>-------------------------------------+</dt>
> <dd><p>rsql_history_num</p>
> </dd>
> </dl></td>
> <td><blockquote>
> <p>서버</p>
> </blockquote>
> <dl>
> <dt>-------------------------+</dt>
> <dd><p>클라이언트</p>
> </dd>
> <dt>-------------------------+</dt>
> <dd><p>서버</p>
> </dd>
> <dt>-------------------------+</dt>
> <dd><p>클라이언트</p>
> </dd>
> </dl></td>
> <td><dl>
> <dt>---------+</dt>
> <dd><p>O</p>
> </dd>
> </dl>
> <p>---------+</p>
> <dl>
> <dt>---------+</dt>
> <dd><p>O</p>
> </dd>
> </dl></td>
> <td><blockquote>
> <p>byte</p>
> </blockquote>
> <dl>
> <dt>----------+</dt>
> <dd><p>bool</p>
> </dd>
> <dt>----------+</dt>
> <dd><p>int</p>
> </dd>
> <dt>----------+</dt>
> <dd><p>int</p>
> </dd>
> </dl></td>
> <td><blockquote>
> <p>0</p>
> </blockquote>
> <dl>
> <dt>--------------------------------+</dt>
> <dd><p>no</p>
> </dd>
> <dt>--------------------------------+</dt>
> <dd><p>0</p>
> </dd>
> <dt>--------------------------------+</dt>
> <dd><p>50</p>
> </dd>
> </dl></td>
> <td><dl>
> <dt>-----------------+</dt>
> <dd><p>가능</p>
> </dd>
> </dl>
> <p>-----------------+</p>
> <dl>
> <dt>-----------------+</dt>
> <dd><p>가능</p>
> </dd>
> </dl></td>
> </tr>
> <tr class="odd">
> <td>ha-parameters</td>
> <td>ha_mode</td>
> <td>서버</td>
> <td></td>
> <td>string</td>
> <td>off</td>
> <td></td>
> </tr>
> <tr class="even">
> <td><dl>
> <dt>other-parameters</dt>
> <dd><p>+</p>
> <p>+</p>
> <p>+</p>
> <p>+</p>
> <p>+</p>
> <p>+</p>
> <p>+</p>
> <p>+</p>
> <p>+</p>
> <p>+</p>
> <p>+</p>
> <p>+</p>
> <p>+</p>
> <p>+</p>
> <p>+</p>
> <p>+</p>
> </dd>
> </dl></td>
> <td><blockquote>
> <p>access_ip_control</p>
> </blockquote>
> <dl>
> <dt>-------------------------------------+</dt>
> <dd><p>access_ip_control_file</p>
> </dd>
> <dt>-------------------------------------+</dt>
> <dd><p>agg_hash_respect_order</p>
> </dd>
> <dt>-------------------------------------+</dt>
> <dd><p>auto_restart_server</p>
> </dd>
> <dt>-------------------------------------+</dt>
> <dd><p>index_scan_in_oid_order</p>
> </dd>
> <dt>-------------------------------------+</dt>
> <dd><p>index_unfill_factor</p>
> </dd>
> <dt>-------------------------------------+</dt>
> <dd><p>java_stored_procedure</p>
> </dd>
> <dt>-------------------------------------+</dt>
> <dd><p>multi_range_optimization_limit</p>
> </dd>
> <dt>-------------------------------------+</dt>
> <dd><p>optimizer_enable_merge_join</p>
> </dd>
> <dt>-------------------------------------+</dt>
> <dd><p>pthread_scope_process</p>
> </dd>
> <dt>-------------------------------------+</dt>
> <dd><p>server</p>
> </dd>
> <dt>-------------------------------------+</dt>
> <dd><p>service</p>
> </dd>
> <dt>-------------------------------------+</dt>
> <dd><p>session_state_timeout</p>
> </dd>
> <dt>-------------------------------------+</dt>
> <dd><p>sort_limit_max_count</p>
> </dd>
> <dt>-------------------------------------+</dt>
> <dd><p>sql_trace_slow</p>
> </dd>
> <dt>-------------------------------------+</dt>
> <dd><p>sql_trace_execution_plan</p>
> </dd>
> <dt>-------------------------------------+</dt>
> <dd><p>use_orderby_sort_limit</p>
> </dd>
> </dl></td>
> <td><blockquote>
> <p>서버</p>
> </blockquote>
> <dl>
> <dt>-------------------------+</dt>
> <dd><p>서버</p>
> </dd>
> <dt>-------------------------+</dt>
> <dd><p>클라이언트</p>
> </dd>
> <dt>-------------------------+</dt>
> <dd><p>서버</p>
> </dd>
> <dt>-------------------------+</dt>
> <dd><p>클라이언트</p>
> </dd>
> <dt>-------------------------+</dt>
> <dd><p>서버</p>
> </dd>
> <dt>-------------------------+</dt>
> <dd><p>서버</p>
> </dd>
> <dt>-------------------------+</dt>
> <dd><p>서버</p>
> </dd>
> <dt>-------------------------+</dt>
> <dd><p>클라이언트</p>
> </dd>
> <dt>-------------------------+</dt>
> <dd><p>서버</p>
> </dd>
> <dt>-------------------------+</dt>
> <dd><p>서버</p>
> </dd>
> <dt>-------------------------+</dt>
> <dd><p>서버</p>
> </dd>
> <dt>-------------------------+</dt>
> <dd><p>서버</p>
> </dd>
> <dt>-------------------------+</dt>
> <dd><p>클라이언트</p>
> </dd>
> <dt>-------------------------+</dt>
> <dd><p>서버</p>
> </dd>
> <dt>-------------------------+</dt>
> <dd><p>서버</p>
> </dd>
> <dt>-------------------------+</dt>
> <dd><p>서버</p>
> </dd>
> </dl></td>
> <td><p>---------+</p>
> <dl>
> <dt>---------+</dt>
> <dd><p>O</p>
> </dd>
> <dt>---------+</dt>
> <dd><p>O</p>
> </dd>
> <dt>---------+</dt>
> <dd><p>O</p>
> </dd>
> </dl>
> <p>---------+</p>
> <p>---------+</p>
> <dl>
> <dt>---------+</dt>
> <dd><p>O</p>
> </dd>
> <dt>---------+</dt>
> <dd><p>O</p>
> </dd>
> </dl>
> <p>---------+</p>
> <p>---------+</p>
> <p>---------+</p>
> <p>---------+</p>
> <dl>
> <dt>---------+</dt>
> <dd><p>O</p>
> </dd>
> <dt>---------+</dt>
> <dd><p>O</p>
> </dd>
> <dt>---------+</dt>
> <dd><p>O</p>
> </dd>
> <dt>---------+</dt>
> <dd><p>O</p>
> </dd>
> </dl></td>
> <td><blockquote>
> <p>bool</p>
> </blockquote>
> <dl>
> <dt>----------+</dt>
> <dd><p>string</p>
> </dd>
> <dt>----------+</dt>
> <dd><p>bool</p>
> </dd>
> <dt>----------+</dt>
> <dd><p>bool</p>
> </dd>
> <dt>----------+</dt>
> <dd><p>bool</p>
> </dd>
> <dt>----------+</dt>
> <dd><p>float</p>
> </dd>
> <dt>----------+</dt>
> <dd><p>bool</p>
> </dd>
> <dt>----------+</dt>
> <dd><p>int</p>
> </dd>
> <dt>----------+</dt>
> <dd><p>bool</p>
> </dd>
> <dt>----------+</dt>
> <dd><p>bool</p>
> </dd>
> <dt>----------+</dt>
> <dd><p>string</p>
> </dd>
> <dt>----------+</dt>
> <dd><p>string</p>
> </dd>
> <dt>----------+</dt>
> <dd><p>sec</p>
> </dd>
> <dt>----------+</dt>
> <dd><p>int</p>
> </dd>
> <dt>----------+</dt>
> <dd><p>msec</p>
> </dd>
> <dt>----------+</dt>
> <dd><p>bool</p>
> </dd>
> <dt>----------+</dt>
> <dd><p>bool</p>
> </dd>
> </dl></td>
> <td><blockquote>
> <p>no</p>
> </blockquote>
> <p>--------------------------------+</p>
> <dl>
> <dt>--------------------------------+</dt>
> <dd><p>yes</p>
> </dd>
> <dt>--------------------------------+</dt>
> <dd><p>yes</p>
> </dd>
> <dt>--------------------------------+</dt>
> <dd><p>no</p>
> </dd>
> <dt>--------------------------------+</dt>
> <dd><p>0.05</p>
> </dd>
> <dt>--------------------------------+</dt>
> <dd><p>no</p>
> </dd>
> <dt>--------------------------------+</dt>
> <dd><p>100</p>
> </dd>
> <dt>--------------------------------+</dt>
> <dd><p>no</p>
> </dd>
> <dt>--------------------------------+</dt>
> <dd><p>yes</p>
> </dd>
> </dl>
> <p>--------------------------------+</p>
> <p>--------------------------------+</p>
> <dl>
> <dt>--------------------------------+</dt>
> <dd><p>21,600</p>
> </dd>
> <dt>--------------------------------+</dt>
> <dd><p>1,000</p>
> </dd>
> <dt>--------------------------------+</dt>
> <dd><p>-1</p>
> </dd>
> <dt>--------------------------------+</dt>
> <dd><p>no</p>
> </dd>
> <dt>--------------------------------+</dt>
> <dd><p>yes</p>
> </dd>
> </dl></td>
> <td><p>-----------------+</p>
> <dl>
> <dt>-----------------+</dt>
> <dd><p>가능</p>
> </dd>
> <dt>-----------------+</dt>
> <dd><p>DBA만 가능</p>
> </dd>
> <dt>-----------------+</dt>
> <dd><p>가능</p>
> </dd>
> </dl>
> <p>-----------------+</p>
> <p>-----------------+</p>
> <dl>
> <dt>-----------------+</dt>
> <dd><p>DBA만 가능</p>
> </dd>
> <dt>-----------------+</dt>
> <dd><p>가능</p>
> </dd>
> </dl>
> <p>-----------------+</p>
> <p>-----------------+</p>
> <p>-----------------+</p>
> <p>-----------------+</p>
> <dl>
> <dt>-----------------+</dt>
> <dd><p>가능</p>
> </dd>
> <dt>-----------------+</dt>
> <dd><p>DBA만 가능</p>
> </dd>
> <dt>-----------------+</dt>
> <dd><p>DBA만 가능</p>
> </dd>
> <dt>-----------------+</dt>
> <dd><p>DBA만 가능</p>
> </dd>
> </dl></td>
> </tr>
> </tbody>
> </table>
>
-   log\_page\_size: 데이터베이스 생성&lt;creating-database&gt; 시 **--log-page-size** 옵션으로 지정한 로그 볼륨 페이지 크기. 기본값: 16KB. 관련 파라미터의 설정 값은 페이지 단위로 버림된다. 예를 들어 checkpoint\_every\_size 의 값은 16KB로 나누어 소수점 이하를 버림한 값에 16KB를 곱한 값이 된다.

<!-- -->

-   db\_page\_size: 데이터베이스 생성&lt;creating-database&gt; 시 **--db-page-size** 옵션으로 지정한 DB 볼륨 페이지 크기. 기본값: 16KB. 관련 파라미터의 설정 값은 페이지 단위로 버림된다. 예를 들어 data\_buffer\_size 의 값은 16KB로 나누어 소수점 이하를 버림한 값에 16KB를 곱한 값이 된다.

**파라미터의 섹션별 분류**

> **rye.conf** 에 지정된 파라미터는 다음과 같이 네 가지 섹션으로 제공된다.
>
> -   Rye 서비스를 시작할 때 사용 : \[service\] 섹션
> -   전체 데이터베이스에 공통으로 적용 : \[common\] 섹션
> -   각 데이터베이스에 개별적으로 적용 : \[@&lt;*database*&gt;\] 섹션
> -   rye 유틸리티가 독립 모드(stand-alone, --SA-mode)로 구동할 때만 사용 : \[standalone\] 섹션
>
> 여기서 &lt;*database*&gt;는 파라미터를 개별적으로 적용할 데이터베이스 이름이며, \[common\]에 설정된 파라미터가 \[@&lt;*database*&gt;\]에 설정된 파라미터와 동일한 경우 \[@&lt;*database*&gt;\]에 설정된 파라미터가 최종 적용된다.
>
>     ..... 
>     [common] 
>     ..... 
>     sort_buffer_size=2M 
>     ..... 
>     [standalone] 
>
>     sort_buffer_size=256M 
>     ..... 
>
> \[standalone\] 섹션에 정의된 설정은 "rye"로 시작하는 rye 유틸리티들이 독립 모드로 구동할 때만 사용된다. 예를 들어, 위와 같이 설정한 상태에서 --CS-mode(기본값)으로 DB를 구동(rye database start db\_name)하면 "sort\_buffer\_size=2M"가 적용된다. 하지만 DB를 정지하고 "rye loaddb --SA-mode"를 실행할 때는 "sort\_buffer\_size=256M"가 적용된다. "rye loaddb --SA-mode"를 실행할 때 인덱스 생성 과정에서 정렬 버퍼(sort buffer)를 더 많이 사용할 것으로 예상되므로 이를 늘려주는 것이 "loaddb" 수행 성능에 도움이 된다.

**기본 제공 파라미터**

> Rye 설치 시 생성되는 기본 데이터베이스 환경 설정 파일(**rye.conf**)에는 데이터베이스 서버 파라미터 중 반드시 변경해야 할 일부 파라미터가 기본적으로 포함된다. 기본으로 포함되지 않는 파라미터의 설정값을 변경하기 원할 경우 직접 추가/편집해서 사용하면 된다.
>
> 다음은 **rye.conf** 파일 내용이다. :
>
>     # Copyright (C) 2008 Search Solution Corporation. All rights reserved by Search Solution.
>     #
>     # $Id$
>     #
>     # rye.conf#
>
>     # For complete information on parameters, see the Rye
>     # Database Administration Guide chapter on System Parameters
>
>     # Service section - a section for 'rye service' command
>     [service]
>
>     # The list of processes to be started automatically by 'rye service start' command
>     # Any combinations are available with server, broker and manager.
>     service=server,broker,manager
>
>     # The list of database servers in all by 'rye service start' command.
>     # This property is effective only when the above 'service' property contains 'server' keyword.
>     #server=demodb,testdb
>
>     # Common section - properties for all databases
>     # This section will be applied before other database specific sections.
>     [common]
>
>     # Read the manual for detailed description of system parameters
>     # Manual > System Configuration > Database Server Configuration > Default Parameters
>
>     # Size of data buffer are using K, M, G, T unit
>     data_buffer_size=512M
>
>     # Size of log buffer are using K, M, G, T unit
>     log_buffer_size=4M
>
>     # Size of sort buffer are using K, M, G, T unit
>     # The sort buffer should be allocated per thread.
>     # So, the max size of the sort buffer is sort_buffer_size * max_clients.
>     sort_buffer_size=2M
>
>     # The maximum number of concurrent client connections the server will accept.
>     # This value also means the total # of concurrent transactions.
>     max_clients=100
>
>     # TCP port id for the Rye programs (used by all clients).
>     rye_port_id=1523
>
> *testdb* 만 data\_buffer\_size를 128M로, max\_clients를 10으로 설정하고 싶은 경우 다음과 같이 설정한다. :
>
>     [service]
>
>     service=server,broker,manager
>
>     [common]
>
>     data_buffer_size=512M
>     log_buffer_size=4M
>     sort_buffer_size=2M
>     max_clients=100
>
>     # TCP port id for the Rye programs (used by all clients).
>     rye_port_id=1523
>
>     [@testdb]
>     data_buffer_size=128M
>     max_clients=10

### 접속 관련 파라미터

다음은 데이터베이스 서버와 관련된 파라미터로 각 파라미터의 타입과 설정 가능한 값의 범위는 다음과 같다.

<table>
<colgroup>
<col width="29%" />
<col width="15%" />
<col width="27%" />
<col width="13%" />
<col width="13%" />
</colgroup>
<thead>
<tr class="header">
<th>파라미터 이름</th>
<th>타입</th>
<th>기본값</th>
<th>최소값</th>
<th>최대값</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>rye_port_id</td>
<td>int</td>
<td>1,523</td>
<td>1</td>
<td></td>
</tr>
<tr class="even">
<td>check_peer_alive</td>
<td>string</td>
<td>both</td>
<td></td>
<td></td>
</tr>
<tr class="odd">
<td>db_hosts</td>
<td>string</td>
<td>NULL</td>
<td></td>
<td></td>
</tr>
<tr class="even">
<td>max_clients</td>
<td>int</td>
<td>100</td>
<td>10</td>
<td>10,000</td>
</tr>
<tr class="odd">
<td>tcp_keepalive</td>
<td>bool</td>
<td>yes</td>
<td></td>
<td></td>
</tr>
</tbody>
</table>

**rye\_port\_id**

> **rye\_port\_id**는 마스터 프로세스가 사용하는 포트를 설정하기 위한 파라미터로 기본값은 **1,523**이다. Rye를 설치한 서버에서 이미 1,523 포트를 사용하고 있거나, 방화벽에 의해 1523 포트가 차단된 경우에는 마스터 프로세스가 정상적으로 구동할 수 없으므로, 마스터 서버와 연결할 수 없다는 에러 메시지가 나타날 수 있다. 이와 같이 포트 충돌이 발생하는 경우, 관리자는 서버 환경을 고려하여 **rye\_port\_id** 의 설정값을 변경해야 한다.

**check\_peer\_alive**

> **check\_peer\_alive**는 클라이언트 프로세스와 서버 프로세스가 정상 동작하는지 각각 확인하는 과정의 수행 여부를 결정하는 파라미터이다. 기본값은 **both**이다.
>
> 서버 프로세스와 접속하는 클라이언트 프로세스에는 브로커 응용 서버(cub\_cas) 프로세스, 복제 로그 반영 프로세스(copylogdb), 복제 로그 복사 프로세스(applylogdb), RSQL 인터프리터(rsql) 등이 있다. 서버 프로세스와 클라이언트 프로세스는 접속이 이루어진 후 네트워크를 통해 데이터를 기다리는 중 오랫동안(예: 5초 이상) 응답을 받지 못하면 설정에 따라 상대방이 정상 동작하는지 확인하는 과정을 거친다. 서로 확인하는 과정에서 정상 동작하지 않는다고 판단되면 연결된 접속을 강제 종료한다.
>
> 값의 종류 및 동작 방식은 다음과 같다.
>
> -   **both**: 서버 프로세스는 클라이언트 프로세스의 ECHO(7) 포트에 주기적으로 접속하여 클라이언트 프로세스가 정상 동작하는지 확인하고, 클라이언트 프로세스는 서버 프로세스의 ECHO(7) 포트에 주기적으로 접속하여 서버 프로세스가 정상 동작하는지 확인한다(기본값).
> -   **server\_only**: 서버 프로세스만 클라이언트 프로세스가 정상 동작하는지 확인한다.
> -   **client\_only**: 클라이언트 프로세스만 서버 프로세스가 정상 동작하는지 확인한다.
> -   **none**: 클라이언트 프로세스와 서버 프로세스 둘 다 상대방이 정상 동작하는지 확인하지 않는다.
>
> 특히, ECHO(7) 포트가 방화벽(firewall) 설정으로 막혀있으면 서버 프로세스 또는 클라이언트 프로세스가 각각 서로의 상태를 확인할 때 상대방 프로세스가 종료된 것으로 오인할 수 있으므로, none으로 설정하여 이 문제를 회피해야 한다.

**db\_hosts**

> **db\_hosts**는 클라이언트에서 연결할 수 있는 데이터베이스 서버 호스트의 목록 및 연결 순서를 지정하기 위한 파라미터이다. 서버 호스트 목록은 한 개 이상의 서버 호스트 이름을 나열하며, 각 호스트는 이름 사이에 공백 또는 콜론(:) 기호를 사용하여 구분한다. 이 때, 중복되거나 존재하지 않는 호스트 이름은 무시된다.
>
> 다음은 **db\_hosts** 파라미터의 설정값을 보여주는 예제로 **host1**, **host2**, **host3** 의 순서대로 연결이 시도된다. :
>
>     db_hosts="hosts1:hosts2:hosts3"
>
> 한편, 클라이언트는 서버 연결을 위하여 데이터베이스 위치 정보 파일(**databases.txt**)을 참조하여 지정된 서버 호스트에 1차적으로 연결을 시도한다. 연결이 실패하면 데이터베이스 설정 파일(**rye.conf**)의 **db\_hosts** 파라미터의 설정값을 참조하여 2차적으로 지정된 서버 호스트 중 첫 번째 서버 호스트에 연결을 시도한다.

**max\_clients**

> **max\_clients**는 데이터베이스 서버에 동시 연결을 허용하는 클라이언트(일반적으로 브로커 용용 서버(CAS))의 최대 개수를 지정하기 위한 파라미터이다. 즉, **max\_clients** 파라미터는 데이터베이스 서버 프로세스 하나 당 동시에 접속할 수 있는 클라이언트의 최대 개수를 의미한다. 이 파라미터의 기본값은 **100**이다.
>
> Rye 환경에서 동시 사용자 수를 증가시키기 위해서는 질의 성능을 고려하여 **max\_clients** 파라미터(**rye.conf**) 및 MAX\_NUM\_APPL\_SERVER &lt;max-num-appl-server&gt; 파라미터(**rye\_broker.conf**)를 적절한 값으로 설정해야 한다. 즉, **max\_clients** 파라미터를 통해 데이터베이스 서버가 허용하는 동시 접속 개수를 설정하고, **MAX\_NUM\_APPL\_SERVER** 파라미터를 통해 해당 브로커가 허용하는 동시 접속 개수를 설정한다.
>
> 예를 들어, **rye\_broker.conf** 파일에서 \[%query\_editor\]의 **MAX\_NUM\_APPL\_SERVER** 값이 50이고 \[%BROKER1\]의 **MAX\_NUM\_APPL\_SERVER** 값이 50인 브로커 노드 2개가 하나의 데이터베이스 서버에 접속하는 경우, 데이터베이스 서버가 허용하는 동시 접속 개수인 **max\_clients** 의 값은 다음과 같이 설정할 수 있다.
>
> -   (각 브로커 노드 당 최대 100개) \* (브로커 노드 2개) + (RSQL 인터프리터의 데이터베이스 서버 접속, HA 로그 복사 프로세스와 같은 Rye 내부 프로세스의 데이터베이스 서버 접속 등에 대한 여유분 10개) = 210
>
> 특히, HA 환경에서는 failover 등으로 인해 여러 브로커 노드 접속이 하나의 데이터베이스 서버에 집중될 수 있으므로, 같은 데이터베이스에 접속하는 모든 브로커 노드의 **MAX\_NUM\_APPL\_SERVER** 값을 합한 값 보다 크게 설정해야 한다.
>
> 클라이언트의 데이터베이스 접속 여부에 관계 없이 **max\_clients**의 개수를 크게 설정할수록 메모리 사용량이 증가하므로 주의한다.
>
> Linux 시스템에서 max\_clients 파라미터는 "ulimit -n" 명령과 관련이 있는데, "ulimit -n" 명령은 프로세스 하나가 사용할 수 있는 file descriptor의 최대 개수를 지정한다. file descriptor는 파일 뿐 아니라 네트워크 소켓도 포함하므로, "ulimit -n"의 개수는 max\_clients의 개수보다 크게 설정해야 한다.
>
**tcp\_keepalive**

> **tcp\_keepalive**는 TCP 네트워크 프로토콜에 SO\_KEEPALIVE 옵션을 적용할지 여부를 지정하는 파라미터로, 기본값은 **yes\*이다. 이 값이**no\*\*이면 마스터 노드와 슬레이브 노드 간 방화벽이 설정되어 있는 환경에서 장시간 동안 트랜잭션 로그가 복사되지 않을 때 DB 서버 쪽 연결이 종료되는 현상이 발생할 수 있다.

### 메모리 관련 파라미터

다음은 데이터베이스 서버 또는 클라이언트에서 사용하는 메모리와 관련된 파라미터로 각 파라미터의 타입과 설정 가능한 값의 범위는 다음과 같다.

<table>
<colgroup>
<col width="26%" />
<col width="7%" />
<col width="22%" />
<col width="22%" />
<col width="22%" />
</colgroup>
<thead>
<tr class="header">
<th>파라미터 이름</th>
<th>타입</th>
<th>기본값</th>
<th>최소값</th>
<th>최대값</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>data_buffer_size</td>
<td>byte</td>
<td>32,768 * db_page_size &lt;dpg&gt;</td>
<td>1,024 * db_page_size &lt;dpg&gt;</td>
<td>2G(32비트), INT_MAX * db_page_size &lt;dpg&gt; (64비트)</td>
</tr>
<tr class="even">
<td>index_scan_oid_buffer_size</td>
<td>byte</td>
<td>4 * db_page_size &lt;dpg&gt;</td>
<td>0.05 * db_page_size &lt;dpg&gt;</td>
<td>16 * db_page_size &lt;dpg&gt;</td>
</tr>
<tr class="odd">
<td>max_agg_hash_size</td>
<td>byte</td>
<td>2,097,152(2M)</td>
<td>32,768(32K)</td>
<td>134,217,728(128MB)</td>
</tr>
<tr class="even">
<td>sort_buffer_size</td>
<td>byte</td>
<td>128 * db_page_size &lt;dpg&gt;</td>
<td>1 * db_page_size &lt;dpg&gt;</td>
<td>2G(32비트), INT_MAX * db_page_size &lt;dpg&gt; (64비트)</td>
</tr>
<tr class="odd">
<td>temp_file_memory_size_in_pages</td>
<td>int</td>
<td>4</td>
<td>0</td>
<td>20</td>
</tr>
<tr class="even">
<td>thread_stacksize</td>
<td>byte</td>
<td>1,048,576</td>
<td>65,536</td>
<td></td>
</tr>
</tbody>
</table>

**data\_buffer\_size**

> **data\_buffer\_size**는 데이터베이스 서버가 메모리 내에 캐시하는 데이터 버퍼의 크기를 설정하기 위한 파라미터이다. 값 뒤에 B, K, M, G, T로 단위를 붙일 수 있으며, 각각 Bytes, Kilobytes, Megabytes, Gigabytes, Terabytes를 의미한다. 단위를 생략하면 바이트 단위가 적용된다. 기본값은 32,768 \* db\_page\_size &lt;dpg&gt; (db\_page\_size가 16K일 때 **512M**) 이고, 최소값은 1,024 \* db\_page\_size &lt;dpg&gt; (db\_page\_size가 16K일 때 **16M**)이다. Rye 64비트 버전에서는 최대값이 INT\_MAX \* db\_page\_size &lt;dpg&gt;이다. Rye 32비트 버전에서는 최대값이 **2G**임에 주의한다.
>
> **data\_buffer\_size** 파라미터의 값이 클수록 버퍼에 캐시되는 데이터 페이지가 많아지므로 디스크 I/O 비용을 줄일 수 있다는 장점이 있다. 반면, 이 파라미터의 값을 너무 크게 설정하면 과도하게 시스템 메모리가 점유되므로 운영체제에 의해 버퍼 풀이 스와핑(swapping)되는 현상이 발생할 수 있다. **data\_buffer\_size** 파라미터는 필요한 메모리 크기가 시스템 메모리의 2/3 이내가 되도록 설정할 것을 권장한다.
>
> -   필요한 메모리 크기 = 데이터 버퍼 크기(**data\_buffer\_size**)

**index\_scan\_oid\_buffer\_size**

> **index\_scan\_oid\_buffer\_size**는 인덱스 스캔을 수행할 때 OID 리스트의 임시 저장을 위한 버퍼의 크기를 설정하기 위한 파라미터이다. K 단위를 설정할 수 있으며, KB(kilobytes)를 의미한다. 단위를 생략하면 바이트 단위가 적용된다. 기본값은 4 \* db\_page\_size &lt;dpg&gt; (db\_page\_size가 16K일 때 **64K**)이다. 최소값은 0.05 \* db\_page\_size &lt;dpg&gt; (db\_page\_size가 16K일 때 약 **1K**)이고, 최대값은 16 \* db\_page\_size &lt;dpg&gt; (db\_page\_size가 16K일 때 **256K**)이다.
>
> **index\_scan\_oid\_buffer\_size** 파라미터 값과 데이터베이스 생성 시 설정한 단위 페이지의 크기에 비례하여 OID 버퍼의 크기가 결정되고, 이러한 OID버퍼의 크기가 클수록 인덱스 스캔 비용이 증가하는 경향을 보인다. 이를 고려하여 **index\_scan\_oid\_buffer\_size** 파라미터 값을 조정할 수 있다.

**sort\_buffer\_size**

> **sort\_buffer\_size**는 정렬을 수행하는 질의에서 사용되는 버퍼의 크기를 설정하기 위한 파라미터이다. 서버는 각 클라이언트의 정렬 요청마다 하나의 정렬 버퍼를 할당하며, 정렬을 완료한 후에는 할당되었던 버퍼 메모리를 해제한다. 정렬을 수행하는 질의로는 SELECT 정렬 질의 뿐만 아니라 인덱스 생성 질의도 포함된다.
>
> 값 뒤에 B, K, M, G, T로 단위를 붙일 수 있으며, 각각 Bytes, Kilobytes, Megabytes, Gigabytes, Terabytes를 의미한다. 단위를 생략하면 바이트 단위가 적용된다. 기본값은 128 \* db\_page\_size &lt;dpg&gt; (db\_page\_size가 16K일 때 **2M**)이고, 최소값은 1 \* db\_page\_size &lt;dpg&gt; (db\_page\_size가 16K일 때 **16K**)이다.

**temp\_file\_memory\_size\_in\_pages**

> **temp\_file\_memory\_size\_in\_pages**는 질의에 관한 임시 결과를 캐시하는 버퍼 페이지 개수를 설정하기 위한 파라미터로 기본값은 **4**이며, 최대값은 20까지 허용된다.
>
> -   필요한 메모리 크기 = 임시 메모리 버퍼 페이지 수(**temp\_file\_memory\_size\_in\_pages**) \* 데이터베이스 페이지 크기(page size)
> -   임시 메모리 버퍼 페이지 수 = **temp\_file\_memory\_size\_in\_pages** 파라미터 설정값
> -   데이터베이스 페이지 크기 = 데이터베이스 생성 시 **rye createdb** 유틸리티의 **-s** 옵션에 의해 지정된 페이지 크기 값
>
> 임시 결과를 저장하는 공간은 다음과 같다.
>
> -   임시 결과 캐시 버퍼(**temp\_file\_memory\_size\_in\_pages** 시스템 파라미터에 의해 확보된 메모리)
> -   영구적 임시 볼륨
> -   일시적 임시 볼륨
>
> 임시 결과 캐싱 버퍼 -&gt; 영구적 임시 볼륨 -&gt; 일시적 임시 볼륨의 순으로, 앞의 공간이 소진되면 다음 공간이 사용된다.

**thread\_stacksize**

> **thread\_stacksize**는 스레드의 스택 크기를 설정하기 위한 파라미터로 기본값은 **1048576** 바이트이다. **thread\_stacksize** 파라미터의 설정값은 운영체제가 허용하는 스택 크기를 초과할 수 없다.

### 디스크 관련 파라미터

다음은 데이터베이스 볼륨 정의 및 파일 저장을 위한 디스크 관련 파라미터로 각 파라미터의 타입과 설정 가능한 값의 범위는 다음과 같다.

<table style="width:96%;">
<colgroup>
<col width="41%" />
<col width="12%" />
<col width="13%" />
<col width="13%" />
<col width="13%" />
</colgroup>
<thead>
<tr class="header">
<th>파라미터 이름</th>
<th>타입</th>
<th>기본값</th>
<th>최소값</th>
<th>최대값</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>db_volume_size</td>
<td>byte</td>
<td>512M</td>
<td>20M</td>
<td>20G</td>
</tr>
<tr class="even">
<td>dont_reuse_heap_file</td>
<td>bool</td>
<td>no</td>
<td></td>
<td></td>
</tr>
<tr class="odd">
<td>generic_vol_prealloc_size</td>
<td>byte</td>
<td>50M</td>
<td>0</td>
<td>20G</td>
</tr>
<tr class="even">
<td>log_volume_size</td>
<td>byte</td>
<td>512M</td>
<td>20M</td>
<td>4G</td>
</tr>
<tr class="odd">
<td>temp_file_max_size_in_pages</td>
<td>int</td>
<td>-1</td>
<td></td>
<td></td>
</tr>
<tr class="even">
<td>temp_volume_path</td>
<td>string</td>
<td>NULL</td>
<td></td>
<td></td>
</tr>
<tr class="odd">
<td>unfill_factor</td>
<td>float</td>
<td>0.1</td>
<td>0.0</td>
<td>0.3</td>
</tr>
<tr class="even">
<td>volume_extension_path</td>
<td>string</td>
<td>NULL</td>
<td></td>
<td></td>
</tr>
</tbody>
</table>

**db\_volume\_size**

> **db\_volume\_size**는 다음과 같은 값을 설정하는 파라미터이다. 값 뒤에 B, K, M, G, T로 단위를 붙일 수 있으며, 각각 Bytes, Kilobytes, Megabytes, Gigabytes, Terabytes를 의미한다. 단위를 생략하면 바이트 단위가 적용된다. 기본값은 **512M**이다.
>
> -   **rye createdb**와 **rye addvoldb** 유틸리티에서 **--db-volume-size** 옵션을 생략했을 때 생성되는 데이터베이스 볼륨의 기본 크기
> -   데이터베이스 볼륨 공간을 모두 사용하면 자동으로 추가되는 범용(generic) 볼륨의 기본 크기

**dont\_reuse\_heap\_file**

> **dont\_reuse\_heap\_file**은 테이블 삭제(**DROP TABLE**)로 인해 삭제된 힙 파일을 새로운 테이블 생성(**CREATE TABLE**) 시 재사용하지 않도록 설정하는 파라미터로, no로 설정되면 삭제된 힙 파일을 재사용하고, yes로 설정되면 삭제된 힙 파일을 새로운 테이블 생성 시 재사용하지 않는다. 기본값은 **no**이다.

**generic\_vol\_prealloc\_size**

> **generic** 볼륨이 항상 유지해야 할 여유 공간(free space)의 크기를 지정한다. 여유 공간이 지정한 값보다 줄어들게 되면 **generic** 볼륨의 여유 공간을 추가로 확보한다.
>
> 여유 공간의 검사는 **generic**, **data**, 또는 **index** 볼륨에 대한 새로운 페이지 요청이 있을 때만 이루어진다.
>
> 값 뒤에 B, K, M, G, T로 단위를 붙일 수 있으며, 각각 Bytes, Kilobytes, Megabytes, Gigabytes, Terabytes를 의미한다. 단위를 생략하면 바이트 단위가 적용된다. 기본값은 50M, 최소값은 0, 최대값은 20G이다.

**log\_volume\_size**

> **log\_volume\_size**는 **rye createdb** 유틸리티에서 **--log-volume-size** 옵션이 생략되었을 때 로그 볼륨 파일의 기본 크기를 설정하는 파라미터이다. 값 뒤에 B, K, M, G, T로 단위를 붙일 수 있으며, 각각 Bytes, Kilobytes, Megabytes, Gigabytes, Terabytes를 의미한다. 단위를 생략하면 바이트 단위가 적용된다. 기본값은 **512M**이다.

**temp\_file\_max\_size\_in\_pages**

> **temp\_file\_max\_size\_in\_pages**는 질의 또는 인덱스 생성 등을 위해 데이터를 정렬하는 과정에서 중간 결과 및 최종 결과를 저장하기 위해 일시적 임시 볼륨(temporary temp volume)이 사용될 때, 질의 하나가 수행될 때 사용할 수 있는 임시 공간의 최대 크기를 페이지 개수로 명시하는 파라미터로 기본값은 **-1**이다.
>
> 중간 결과 저장소의 크기와 최종 결과 저장소의 크기는 각각 별개로 측정되므로, 그들 중 하나의 크기가 파라미터가 명시한 크기보다 큰 경우 에러가 발생하면서 해당 질의의 수행이 취소된다.
>
> 질의 수행 시 필요한 임시 볼륨(temp volume)은 일시적 임시 볼륨과 영구적 임시 볼륨으로 구분되는데, 이 파라미터의 값은 일시적 임시 볼륨에만 적용된다. (큰 크기의 임시 공간이 필요한 질의를 수행하면서 일시적 임시 볼륨이 기대 이상으로 증가함으로 인해) 디스크의 여유 공간이 부족해져 시스템 운영에 문제가 발생하는 것을 예방하려면, 예상하는 영구적 임시 볼륨을 미리 확보하고, 하나의 질의가 수행될 때 일시적 임시 볼륨에서 사용되는 공간의 최대 크기를 제한하는 것이 좋다.

**unfill\_factor**

> **unfill\_factor**는 데이터 갱신에 대비하여 힙(heap) 페이지로 할당되는 디스크 공간의 비율을 정의하기 위한 파라미터로 기본값은 **0.1**로 10%의 여유 공간이 설정된다. 원칙적으로, 테이블의 데이터는 물리적인 순서대로 삽입되지만, 데이터가 원래 크기보다 큰 데이터로 갱신되어 해당 페이지의 저장 공간이 부족하면 갱신된 데이터는 다른 페이지에 재배치되어야 하므로 성능이 저하될 수 있다. 이를 방지하기 위하여 **unfill\_factor** 파라미터를 통해 힙 페이지 공간 비율을 설정할 수 있고, 최대값은 0.3(30%)까지 허용된다. 한편, 데이터 갱신이 거의 발생하지 않는 데이터베이스에서는 이 파라미터를 0.0으로 설정하여 데이터 갱신을 위한 힙 페이지 공간을 할당하지 않을 수 있고, **unfill\_factor** 파라미터의 값이 음수거나 최대값보다 크게 설정되는 경우에는 기본값(**0.1**)이 적용된다.

### 오류 메시지 관련 파라미터

다음은 Rye에 의해 기록되는 오류 메시지의 처리에 관한 파라미터로 각 파라미터의 타입과 설정 가능한 값의 범위는 다음과 같다.

<table>
<colgroup>
<col width="46%" />
<col width="11%" />
<col width="42%" />
</colgroup>
<thead>
<tr class="header">
<th>파라미터 이름</th>
<th>타입</th>
<th>기본값</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>call_stack_dump_activation_list</td>
<td>string</td>
<td>DEFAULT</td>
</tr>
<tr class="even">
<td>call_stack_dump_deactivation_list</td>
<td>string</td>
<td>NULL</td>
</tr>
<tr class="odd">
<td>call_stack_dump_on_error</td>
<td>bool</td>
<td>no</td>
</tr>
<tr class="even">
<td>error_log</td>
<td>string</td>
<td>cub_client.err, cub_server.err</td>
</tr>
<tr class="odd">
<td>error_log_level</td>
<td>string</td>
<td>SYNTAX</td>
</tr>
<tr class="even">
<td>error_log_warning</td>
<td>bool</td>
<td>no</td>
</tr>
<tr class="odd">
<td>error_log_size</td>
<td>int</td>
<td>8,000,000</td>
</tr>
</tbody>
</table>

**call\_stack\_dump\_activation\_list**

> **call\_stack\_dump\_activation\_list**는 모든 오류에 대해 콜-스택을 서버 에러 로그 파일($Rye/log/server 디렉터리에 위치)에 덤프하지 않기로 설정한 상태에서, 예외적으로 콜-스택을 덤프할 특정 오류 번호를 지정하기 위한 파라미터이다. 따라서, **call\_stack\_dump\_activation\_list** 파라미터는 **call\_stack\_dump\_on\_error** 의 값이 **no** 인 경우에만 효력이 있다.
>
> 값을 설정하지 않을 경우 기본값은 "DEFAULT" 키워드이며, 다음 오류들을 포함한다. "DEFAULT" 키워드는 다른 오류 번호와 함께 사용될 수 있다.
>
> <table>
> <colgroup>
> <col width="7%" />
> <col width="92%" />
> </colgroup>
> <thead>
> <tr class="header">
> <th>오류 번호</th>
> <th>오류 메시지</th>
> </tr>
> </thead>
> <tbody>
> <tr class="odd">
> <td>-2</td>
> <td>Internal system failure: no more specific information is available.</td>
> </tr>
> <tr class="even">
> <td>-7</td>
> <td>Trying to format disk volume xxx with an incorrect value xxx for number of pages.</td>
> </tr>
> <tr class="odd">
> <td>-13</td>
> <td>An I/O error occurred while reading page xxx of volume xxx.</td>
> </tr>
> <tr class="even">
> <td>-14</td>
> <td>An I/O error occurred while writing page xxx of volume xxx.</td>
> </tr>
> <tr class="odd">
> <td>-17</td>
> <td>Internal error: fetching deallocated pageid xxx of volume xxx.</td>
> </tr>
> <tr class="even">
> <td>-19</td>
> <td>Internal error: pageptr = xxx of page xxx of volume xxx is not fixed.</td>
> </tr>
> <tr class="odd">
> <td>-21</td>
> <td>Internal error: unknown sector xxx of volume xxx.</td>
> </tr>
> <tr class="even">
> <td>-22</td>
> <td>Internal error: unknown page xxx of volume xxx.</td>
> </tr>
> <tr class="odd">
> <td>-45</td>
> <td>Slot xxx on page xxx of volume xxx is allocated to an anchored record. A new record cannot be inserted here.</td>
> </tr>
> <tr class="even">
> <td>-46</td>
> <td>Internal error: slot xxx on page xxx of volume xxx is not allocated.</td>
> </tr>
> <tr class="odd">
> <td>-48</td>
> <td>Accessing deleted object xxx|xxx|xxx.</td>
> </tr>
> <tr class="even">
> <td>-50</td>
> <td>Internal error: relocation record of object xxx|xxx|xxx may be corrupted.</td>
> </tr>
> <tr class="odd">
> <td>-51</td>
> <td>Internal error: object xxx|xxx|xxx may be corrupted.</td>
> </tr>
> <tr class="even">
> <td>-52</td>
> <td>Internal error: object overflow address xxx|xxx|xxx may be corrupted.</td>
> </tr>
> <tr class="odd">
> <td>-76</td>
> <td>Your transaction (index xxx, <a href="mailto:xxx@xxx%7Cxxx">xxx@xxx|xxx</a>) timed out waiting on xxx on page xxx|xxx. You are waiting for user(s) xxx to release the page lock.</td>
> </tr>
> <tr class="even">
> <td>-78</td>
> <td>Internal error: an I/O error occurred while reading logical log page xxx (physical page xxx) of xxx.</td>
> </tr>
> <tr class="odd">
> <td>-79</td>
> <td>Internal error: an I/O error occurred while writing logical log page xxx (physical page xxx) of xxx.</td>
> </tr>
> <tr class="even">
> <td>-81</td>
> <td>Internal error: logical log page xxx may be corrupted.</td>
> </tr>
> <tr class="odd">
> <td>-90</td>
> <td>Redo logging is always a page level logging operation. A data page pointer must be given as part of the address.</td>
> </tr>
> <tr class="even">
> <td>-96</td>
> <td>Media recovery may be needed on volume xxx.</td>
> </tr>
> <tr class="odd">
> <td>-97</td>
> <td>Internal error: unable to find log page xxx in log archives.</td>
> </tr>
> <tr class="even">
> <td>-313</td>
> <td>Object buffer underflow while reading.</td>
> </tr>
> <tr class="odd">
> <td>-314</td>
> <td>Object buffer overflow while writing.</td>
> </tr>
> <tr class="even">
> <td>-407</td>
> <td>Unknown key xxx referenced in B+tree index {vfid: (xxx, xxx), rt_pgid: xxx, key_type: xxx}.</td>
> </tr>
> <tr class="odd">
> <td>-414</td>
> <td>Unknown class identifier: xxx|xxx|xxx.</td>
> </tr>
> <tr class="even">
> <td>-415</td>
> <td>Invalid class identifier: xxx|xxx|xxx.</td>
> </tr>
> <tr class="odd">
> <td>-416</td>
> <td>Unknown representation identifier: xxx.</td>
> </tr>
> <tr class="even">
> <td>-417</td>
> <td>Invalid representation identifier: xxx.</td>
> </tr>
> <tr class="odd">
> <td>-583</td>
> <td>Trying to allocate an invalid number (xxx) of pages.</td>
> </tr>
> <tr class="even">
> <td>-603</td>
> <td>Internal Error: Sector/page table of file VFID xxx|xxx seems corrupted.</td>
> </tr>
> <tr class="odd">
> <td>-836</td>
> <td>LATCH ON PAGE(xxx|xxx) TIMEDOUT</td>
> </tr>
> <tr class="even">
> <td>-859</td>
> <td>LATCH ON PAGE(xxx|xxx) ABORTED</td>
> </tr>
> <tr class="odd">
> <td>-890</td>
> <td>Partition failed.</td>
> </tr>
> <tr class="even">
> <td>-891</td>
> <td>Appropriate partition does not exist.</td>
> </tr>
> <tr class="odd">
> <td>-976</td>
> <td>Internal error: Table size overflow (allocated size: xxx, accessed size: xxx) at file table page xxx|xxx(volume xxx)</td>
> </tr>
> <tr class="even">
> <td>-1040</td>
> <td>HA generic: xxx.</td>
> </tr>
> <tr class="odd">
> <td>-1075</td>
> <td>Descending index scan aborted because of lower priority on B+tree with index identifier: (vfid = (xxx, xxx), rt_pgid: xxx).</td>
> </tr>
> </tbody>
> </table>
>
> 다음은 -115, -116번의 오류 번호에 대해서만 콜-스택 덤프가 수행되도록 파라미터를 설정한 예제이다. :
>
>     call_stack_dump_on_error= no
>     call_stack_dump_activation_list=-115,-116
>
> 다음은 -115, -116번의 오류 번호와 "DEFAULT" 오류 번호에 대해 콜-스택 덤프가 수행되도록 파라미터를 설정한 예제이다. :
>
>     call_stack_dump_on_error= no
>     call_stack_dump_activation_list=-115,-116, DEFAULT

**call\_stack\_dump\_deactivation\_list**

> **call\_stack\_dump\_deactivation\_list**는 모든 오류에 대해 콜-스택 덤프를 설정한 상태에서, 예외적으로 콜-스택을 덤프하지 않는 특정 오류 번호를 지정하기 위한 파라미터이다. 따라서, **call\_stack\_dump\_deactivation\_list** 파라미터는 **call\_stack\_dump\_on\_error** 의 값이 **yes** 인 경우에만 효력이 있다.
>
> 다음은 -115, -116번의 오류 번호를 제외한 나머지 오류에 대해서 콜-스택 덤프를 수행하기 위해 파라미터를 설정한 예제이다. :
>
>     call_stack_dump_on_error= yes
>     call_stack_dump_deactivation_list=-115,-116

**call\_stack\_dump\_on\_error**

> **call\_stack\_dump\_on\_error**는 데이터베이스 서버에서 오류가 발생했을 때 콜-스택을 덤프할지 결정하기 위한 파라미터이다. no로 설정되면 모든 오류에 대해서 콜-스택을 덤프하지 않고, yes로 설정되면 모든 오류에 대해서 콜-스택을 덤프한다. 기본값은 **no**이다.

**error\_log**

> **error\_log**는 데이터베이스 서버에 오류가 발생하는 경우, 에러 로그가 저장되는 파일 이름을 지정하기 위한 서버/클라이언트 파라미터이다. 에러 로그가 저장되는 파일명의 작성 규칙은 *&lt;database\_name&gt;\_&lt;date&gt;\_&lt;time&gt;.err*이다. 한편 시스템이 데이터베이스 서버 정보를 찾을 수 없는 오류에 대해서는 에러 로그 파일명의 작성 규칙을 따를 수 없다. 따라서, **rye.err** 파일에 오류 로그를 기록한다. **rye.err** 에러 로그 파일은 **$Rye/log/server** 디렉터리에 저장된다.

**error\_log\_level**

> **error\_log\_level**은 에러 심각성(severity) 수준에 따라 에러 로그 파일에 저장할 에러 메시지를 지정할 수 있는 서버 파라미터이다. 에러 심각성 수준은 가장 낮은 수준인 **NOTIFICATION** 부터 가장 심각한 수준인 **FATAL** 까지 총 5단계로 구성되며, 그에 따른 에러 메시지 포함 관계는 **FATAL** &lt; **ERROR** &lt; **SYNTAX** &lt; **WARNING** &lt; **NOTIFICATION**이다. 기본값은 **SYNTAX**이며, 이 경우 **FATAL**, **ERROR**, **SYNTAX** 에 해당하는 에러 메시지만 에러 로그 파일에 기록된다.

**error\_log\_warning**

> **error\_log\_warning**은 에러 심각성(severity) 수준이 **WARNING** 인 에러 메시지의 출력 여부를 설정할 수 있는 서버 파라미터이다. 기본값은 **no**이므로, **error\_log\_level** 의 값이 **NOTIFICATION** 으로 설정된 경우에도 **WARNING** 메시지를 제외한 나머지 수준의 에러 메시지만 저장될 것이다. 따라서, **WARNING** 메시지가 에러 로그 파일에 저장되도록 하려면, **error\_log\_warning** 의 값을 **yes**로 설정해야 한다.

**error\_log\_size**

> **error\_log\_size**는 에러 로그 파일에서 기록되는 최대 라인 수를 지정하는 파라미터로 기본값은 **8,000,000**이다. 에러 로그 파일의 라인 수가 이 파라미터의 설정값에 도달하면 *&lt;database\_name&gt;\_&lt;date&gt;\_&lt;time&gt;.err.bak* 파일이 생성된다.

### 동시성/잠금 파라미터

다음은 데이터베이스 서버의 동시성 제어 및 잠금에 관한 파라미터로 각 파라미터의 타입과 설정 가능한 값의 범위는 다음과 같다.

<table style="width:100%;">
<colgroup>
<col width="43%" />
<col width="10%" />
<col width="14%" />
<col width="15%" />
<col width="15%" />
</colgroup>
<thead>
<tr class="header">
<th>파라미터 이름</th>
<th>타입</th>
<th>기본값</th>
<th>최소값</th>
<th>최대값</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>deadlock_detection_interval_in_secs</td>
<td>float</td>
<td>1.0</td>
<td>0.1</td>
<td></td>
</tr>
<tr class="even">
<td>isolation_level</td>
<td>int</td>
<td>3</td>
<td>1</td>
<td>6</td>
</tr>
<tr class="odd">
<td>lock_escalation</td>
<td>int</td>
<td>100,000</td>
<td>5</td>
<td></td>
</tr>
<tr class="even">
<td>lock_timeout</td>
<td>msec</td>
<td>-1(무제한)</td>
<td>0(대기안함)</td>
<td>INT_MAX</td>
</tr>
<tr class="odd">
<td>rollback_on_lock_escalation</td>
<td>bool</td>
<td>no</td>
<td></td>
<td></td>
</tr>
</tbody>
</table>

**deadlock\_detection\_interval\_in\_secs**

> **deadlock\_detection\_interval\_in\_secs**는 중단된 트랜잭션에 대해 교착 상태 여부를 탐지하는 주기를 초 단위로 설정하기 위한 파라미터이다. Rye 시스템은 교착 상태에 있는 트랜잭션 중 하나를 롤백시켜 교착 상태를 해결한다. 기본값은 1초이며, 최소값은 0.1초이다. 이 값은 0.1초 단위로 올림하여 동작한다. 즉, 입력값이 0.12초이면 0.2초를 입력한 것과 같이 동작한다. 탐지 주기가 길면 오랜 시간동안 교착 상태를 탐지할 수 없으므로 주의한다.

**isolation\_level**

> **isolation\_level**은 트랜잭션의 격리 수준을 설정하기 위한 파라미터로 격리 수준이 높을수록 트랜잭션의 동시성이 적고 다른 동시성 트랜잭션에 의해 간섭받지 않는다. **isolation\_level** 파라미터는 격리 수준을 의미하는 1에서 6까지의 정수값 또는 문자열로 설정하며, 기본값은 **TRAN\_REP\_CLASS\_UNCOMMIT\_INSTANCE**이다. 각 격리 수준 및 파라미터 설정값에 대한 자세한 내용은 transaction-isolation-level 과 다음 표를 참조한다.
>
> <table>
> <colgroup>
> <col width="23%" />
> <col width="76%" />
> </colgroup>
> <thead>
> <tr class="header">
> <th>격리 수준</th>
> <th>isolation_level 파라미터 설정값</th>
> </tr>
> </thead>
> <tbody>
> <tr class="odd">
> <td>SERIALIZABLE</td>
> <td>&quot;TRAN_SERIALIZABLE&quot; or 6</td>
> </tr>
> <tr class="even">
> <td>REPEATABLE READ CLASS with REPEATABLE READ INSTANCES</td>
> <td>&quot;TRAN_REP_CLASS_REP_INSTANCE&quot; or &quot;TRAN_REP_READ&quot; or 5</td>
> </tr>
> <tr class="odd">
> <td>REPEATABLE READ CLASS with READ COMMITTED INSTANCES (or CURSOR STABILITY)</td>
> <td>&quot;TRAN_REP_CLASS_COMMIT_INSTANCE&quot; or &quot;TRAN_READ_COMMITTED&quot; or &quot;TRAN_CURSOR_STABILITY&quot; or 4</td>
> </tr>
> <tr class="even">
> <td>REPEATABLE READ CLASS with READ UNCOMMITTED INSTANCES</td>
> <td>&quot;TRAN_REP_CLASS_UNCOMMIT_INSTANCE&quot; or &quot;TRAN_READ_UNCOMMITTED&quot; or 3</td>
> </tr>
> <tr class="odd">
> <td>READ COMMITTED CLASS with READ COMMITTED INSTANCES</td>
> <td>&quot;TRAN_COMMIT_CLASS_COMMIT_INSTANCE&quot; or 2</td>
> </tr>
> <tr class="even">
> <td>READ COMMITTED CLASS with READ UNCOMMITTED INSTANCES</td>
> <td>&quot;TRAN_COMMIT_CLASS_UNCOMMIT_INSTANCE&quot; or 1</td>
> </tr>
> </tbody>
> </table>
>
> -   **TRAN\_SERIALIZABLE** : 가장 높은 수준의 일관성을 보장하는 격리 수준이며, isolation-level-6 을 참고한다.
> -   **TRAN\_REP\_CLASS\_REP\_INSTANCE** : 유령 읽기(phantom read)가 발생될 수 있는 격리 수준이며, isolation-level-5 를 참고한다.
> -   **TRAN\_REP\_CLASS\_COMMIT\_INSTANCE** : 반복 불가능한 읽기(unrepeatable read)가 발생될 수 있는 격리 수준이며, isolation-level-4 를 참고한다.
> -   **TRAN\_REP\_CLASS\_UNCOMMIT\_INSTANCE** : 더티 읽기(dirty read)가 발생될 수 있는 격리 수준이며, isolation-level-3 를 참고한다.
> -   **TRAN\_COMMIT\_CLASS\_COMMIT\_INSTANCE** : 반복 불가능한 읽기(unrepeatable read)가 발생될 수 있고, 데이터 조회 중에 다른 트랜잭션에 의한 테이블 스키마의 변경이 허용되는 격리 수준이며, isolation-level-2 를 참고한다.
> -   **TRAN\_COMMIT\_CLASS\_UNCOMMIT\_INSTANCE** : 더티 읽기(dirty read)가 발생될 수 있고, 데이터 조회 중에 다른 트랜잭션에 의한 테이블 스키마의 변경이 허용되는 격리 수준이며, isolation-level-1 를 참고한다.

**lock\_escalation**

> **lock\_escalation**은 행에 대한 잠금이 테이블 잠금으로 확대되기 전에 개별 행에 허용되는 최대 잠금의 개수를 설정하기 위한 파라미터로 기본값은 **100,000**이다. **lock\_escalation** 파라미터의 설정값이 작으면, 메모리 잠금 관리에 의한 오버헤드가 적은 반면 동시성은 줄어든다. 반대로 설정값이 크면 메모리 잠금 관리에 의한 오버헤드가 큰 반면 동시성이 향상된다.

**lock\_timeout**

> **lock\_timeout**은 잠금 대기 시간을 지정하기 위한 클라이언트 파라미터로 지정된 시간 이내에 잠금이 허용되지 않으면 해당 트랜잭션이 취소되고 오류가 반환된다. 기본값인 **-1**로 설정하면 잠금이 허용될 때까지의 대기 시간이 무제한이고, 0으로 설정하면 잠금을 대기하지 않는다.
>
> s, min, h 단위를 지정할 수 있으며 각각 seconds, minutes, hours를 의미한다. 단위 생략 시 기본 단위는 밀리초(ms)이며, 밀리초로 설정한 값은 초 단위로 올림된다. 예를 들어, 1ms는 1s가 되며, 1001ms는 2s가 된다.

**rollback\_on\_lock\_escalation**

> 잠금 에스컬레이션 발생 시 트랜잭션의 롤백 여부를 지정한다. 기본값은 **no**이다.
>
> 이 파라미터가 **yes**로 설정되면, 잠금 에스컬레이션 발생 시점에 에스컬레이션 없이 에러 로그를 기록하고, 해당 잠금 요청은 실패하면서 트랜잭션을 롤백한다. no로 설정되면 잠금 에스컬레이션이 수행되고 트랜잭션을 계속 진행한다.
>
> 잠금 에스컬레이션이 발생하면 레코드 잠금이 테이블 잠금으로 전환되고, 잠금(lock)을 해제하는 시간이 오래 걸리면서 해당 테이블에 대한 다른 트랜잭션의 접근이 불가하게 되는 상황이 발생할 수 있다. 그렇다고 잠금 에스컬레이션이 발생하는 레코드 잠금 개수를 지정하는 **lock\_escalation** 파라미터 값을 크게 하면 메모리 자원을 많이 사용하는 문제가 발생할 수 있다.

### 로깅 관련 파라미터

다음은 Rye 데이터베이스의 백업과 복구에 이용되는 로그에 관련된 파라미터로 각 파라미터의 타입과 설정 가능한 값의 범위는 다음과 같다.

<table style="width:100%;">
<colgroup>
<col width="28%" />
<col width="6%" />
<col width="21%" />
<col width="21%" />
<col width="21%" />
</colgroup>
<thead>
<tr class="header">
<th>파라미터 이름</th>
<th>타입</th>
<th>기본값</th>
<th>최소값</th>
<th>최대값</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>adaptive_flush_control</td>
<td>bool</td>
<td>yes</td>
<td></td>
<td></td>
</tr>
<tr class="even">
<td>background_archiving</td>
<td>bool</td>
<td>yes</td>
<td></td>
<td></td>
</tr>
<tr class="odd">
<td>checkpoint_every_size</td>
<td>byte</td>
<td>10,000 * log_page_size &lt;lpg&gt;</td>
<td>10 * log_page_size &lt;lpg&gt;</td>
<td>log_page_size &lt;lpg&gt;</td>
</tr>
<tr class="even">
<td>checkpoint_interval</td>
<td>msec</td>
<td>6min</td>
<td>1min</td>
<td>35,791,394min</td>
</tr>
<tr class="odd">
<td>checkpoint_sleep_msecs</td>
<td>msec</td>
<td>1</td>
<td>0</td>
<td></td>
</tr>
<tr class="even">
<td>force_remove_log_archives</td>
<td>bool</td>
<td>yes</td>
<td></td>
<td></td>
</tr>
<tr class="odd">
<td>log_buffer_size</td>
<td>byte</td>
<td>128 * log_page_size &lt;lpg&gt;</td>
<td>3 * log_page_size &lt;lpg&gt;</td>
<td>INT_MAX * log_page_size &lt;lpg&gt;</td>
</tr>
<tr class="even">
<td>log_max_archives</td>
<td>int</td>
<td>INT_MAX</td>
<td>0</td>
<td>INT_MAX</td>
</tr>
<tr class="odd">
<td>log_trace_flush_time</td>
<td>int</td>
<td>0</td>
<td>0</td>
<td>INT_MAX</td>
</tr>
<tr class="even">
<td>max_flush_size_per_second</td>
<td>byte</td>
<td>10,000 * db_page_size &lt;dpg&gt;</td>
<td>1 * db_page_size &lt;dpg&gt;</td>
<td>INT_MAX * db_page_size &lt;dpg&gt;</td>
</tr>
<tr class="odd">
<td>remove_log_archive_interval_in_secs</td>
<td>sec</td>
<td>0</td>
<td>0</td>
<td></td>
</tr>
<tr class="even">
<td>sync_on_flush_size</td>
<td>byte</td>
<td>200 * db_page_size &lt;dpg&gt;</td>
<td>1 * db_page_size &lt;dpg&gt;</td>
<td>INT_MAX * db_page_size &lt;dpg&gt;</td>
</tr>
</tbody>
</table>

**adaptive\_flush\_control**

> **adaptive\_flush\_control**는 내려쓰기(flush) 작업 중에 50ms마다 작업 상태에 따라 내려쓰기할 용량(flush capacity)을 자동 조정하는 파라미터이며, 기본값은 **yes**이다. 즉, 특정 시점에 **INSERT** 또는 **UPDATE** 연산이 집중되어 내려쓰기한 페이지 수가 **max\_flush\_pages\_per\_second** 파라미터 값에 도달하면 이 용량을 증가시키고, 이에 도달하지 못하면 이 용량을 감소시킨다. 이처럼 워크로드에 따라 주기적으로 내려쓰기 용량을 조정하여 I/O 부하를 분산할 수 있다.

**background\_archiving**

> **background\_archiving**은 특정 시점마다 주기적으로 임시 보관 로그를 생성하도록 하는 파라미터로서, 보관 로그 작업으로 인한 디스크 I/O 부하를 분산시키고자 할 때 유용하다. 기본값은 **yes**이다.

**checkpoint\_every\_size**

> **checkpoint\_every\_size**는 체크포인트가 수행되는 주기를 로그 페이지 단위로 설정하는 파라미터이다. 값 뒤에 B, K, M, G, T로 단위를 붙일 수 있으며, 각각 Bytes, Kilobytes, Megabytes, Gigabytes, Terabytes를 의미한다. 단위를 생략하면 바이트 단위가 적용된다. 기본값은 10,000 \* log\_page\_size &lt;lpg&gt; (log\_page\_size가 16K이면 **156.25M**)이다.
>
> 특정 시간대에 **INSERT** / **UPDATE** 가 집중되는 서비스 환경에서는 **checkpoint\_every\_size** 파라미터의 설정값을 작게 설정하여 체크포인트 시점에 I/O 부하를 분산할 수 있다.
>
> 체크포인트는 특정 시점에 데이터 버퍼에 있는 모든 수정된 페이지를 데이터베이스 볼륨(디스크)에 기록하는 작업이다. 체크포인트는 데이터베이스 장애 발생 이후 복구 시 체크포인트가 발생하기 이전의 트랜잭션 로그를 반영할 필요가 없게 하여 복구 시간을 단축시키는 효과가 있다. 다만, 체크포인트 작업으로 인해 디스크 I/O가 발생하여 DB 운영에 영향을 끼칠 수 있으므로 체크포인트 주기를 적절하게 설정해야 한다.
>
> Rye에서 체크포인트는 3가지 방법으로 제공되는데, 다음의 2가지는 rye.conf의 설정에 의해 제공된다.
>
> -   **checkpoint\_interval**: 체크포인트가 완료된 이후 이 파라미터의 설정값이 경과된 시간마다 체크포인트 작업이 주기적으로 수행된다.
> -   **checkpoint\_every\_size**: 트랜잭션 로그 파일의 크기가 이 파라미터의 설정값에 도달하는 시점마다 체크포인트 작업이 주기적으로 수행된다.
>
> 이상 두 개의 파라미터 조건 중 하나만 만족하면 체크포인트가 수행된다.
>
> 다음의 한 가지는 사용자의 명령으로 제공된다.
>
> -   RSQL 인터프리터를 "DBA" 사용자로 실행한 이후 ";checkpoint" 명령을 수행하면 체크포인트가 수행된다.
>
> 참고로 체크포인트 수행 도중에 백업을 수행하면, 체크포인트가 종료될 때까지 백업 명령은 대기 상태가 된다.
>
**checkpoint\_interval**

> **checkpoint\_interval**은 체크포인트가 수행되는 주기를 설정하는 파라미터이다. ms, s, min, h 단위를 지정할 수 있으며 각각 milliseconds, seconds, minutes, hours를 의미한다. 단위 생략 시 기본 단위는 밀리초(ms)이며, 밀리초로 설정한 값은 초 단위로 올림된다. 예를 들어, 1ms는 1s가 되며, 1001ms는 2s가 된다. 기본값은 **6min**이고, 최소값은 1min이다. 최대값은 35791394min이다.

**checkpoint\_sleep\_msecs**

> 체크포인트가 발생할 때 버퍼의 데이터를 디스크에 플러시하는 작업을 천천히 진행하게 하는 파라미터이다. 기본값은 1(밀리초)이다.

**force\_remove\_log\_archives**

> **force\_remove\_log\_archives**는 **log\_max\_archives**로 지정한 개수의 최근 보관 로그(log archive) 파일을 제외한 나머지 파일의 삭제 허용 여부를 지정하는 파라미터로서, 기본값은 **yes**이다.
>
> 파라미터 값을 yes로 설정하면, **log\_max\_archives**로 지정한 개수의 최근 보관 로그 파일을 제외한 나머지 파일이 삭제된다.
>
> 파라미터 값을 no로 설정하면, 보관 로그 파일이 삭제되지 않지만, 예외적으로 **ha\_mode**를 on으로 설정하면 HA 관련 프로세스에 필요한 보관 로그 파일과 **log\_max\_archvies**로 지정한 개수의 최근 보관 로그 파일을 제외한 나머지 파일이 삭제된다.
>
> Rye HA 환경을 구축하고자 하는 사용자는 ha-configuration을 참고한다.

**log\_buffer\_size**

> **log\_buffer\_size**는 메모리에 캐시되는 로그 버퍼의 크기를 설정하는 파라미터이다. 값 뒤에 B, K, M, G, T로 단위를 붙일 수 있으며, 각각 Bytes, Kilobytes, Megabytes, Gigabytes, Terabytes를 의미한다. 단위를 생략하면 바이트 단위가 적용된다. 기본값은 128 \* log\_page\_size &lt;dpg&gt; (log\_page\_size가 16K이면 **2M**) 이다.
>
> **log\_buffer\_size** 파라미터의 설정값이 크면 데이터베이스 수정 연산이 많고, 길고 큰 트랜잭션이 많은 환경에서는 디스크 I/O가 감소되어 성능이 향상될 수 있다. Rye가 설치된 시스템의 메모리 크기 및 작업 연산의 크기를 고려하여 적당한 값으로 설정할 것을 권장한다.
>
> -   필요한 메모리 크기 = 로그 버퍼 크기(**log\_buffer\_size**)

**log\_max\_archives**

> **log\_max\_archives**는 보존할 보관 로그 파일의 최대 개수를 설정하는 파라미터이다. 최소값은 0이며, 기본값은 **INT\_MAX** (2,147,483,647)이다. Rye 설치 시 **rye.conf** 에는 0으로 설정되어 있다. 이 파라미터는 **force\_remove\_log\_archives** 의 설정에 따라 동작이 달라질 수 있다.
>
> 예를 들어, **rye.conf**의 **log\_max\_archives**가 3이고 **force\_remove\_log\_archives**가 yes이면, 최근 3개의 보관 로그 파일만 유지하고 네 번째 보관 로그가 생성될 때에는 이전에 생성된 보관 로그 파일을 자동으로 삭제한다. 이때 삭제되는 보관 로그 파일의 정보는 \***\_lginf** 파일에 기록된다.
>
> 하지만 활성화된 트랜잭션이 기존 보관 로그 파일을 여전히 참조하고 있다면, 해당 보관 로그 파일은 삭제되지 않는다. 즉, 어떤 트랜잭션이 첫 번째 보관 로그 파일이 생성되는 시점에서 시작되어 다섯 번째 보관 로그 파일이 생성되는 시점까지도 종료되지 않았다면 첫 번째 보관 로그 파일은 삭제되지 않는다.
>
> 그리고 보관 로그 파일의 정보가 데이터베이스 볼륨에 아직 반영되어 있지 않은 경우에도 해당 보관 로그 파일은 삭제되지 않는다. (체크포인트가 발생한 이후의 보관 로그는 데이터 버퍼의 수정된 페이지 정보를 가지고 있으므로 데이터베이스 복구를 위해 필요하다.)
>
> DB 운영 중에 **log\_max\_archives**의 값을 동적으로 변경하는 경우, 변경된 값은 새로운 보관 로그 파일이 생성될 때 적용된다. 예를 들어, 해당 값을 10에서 5로 변경한 경우, 새로운 보관 로그 파일이 생성되는 시점에 오래된 파일 5개를 삭제한다.
>
> Rye HA 환경을 구축하고자 하는 사용자는 ha-configuration을 참고한다.
>
> 2008 R4.3 이하 버전과 9.1 버전에서 **log\_max\_archives**는 HA 환경에서 복제 로그 파일의 최대 보존 개수를 지정할 때도 사용되었으나, 2008 R4.4와 9.2 이상 버전에서는 rye\_ha.conf의 ha\_copy\_log\_max\_archives &lt;ha\_copy\_log\_max\_archives&gt; 파라미터가 그 역할을 대신하게 되었다.
>
**log\_trace\_flush\_time**

> 이 파라미터에 설정한 시간보다 로그 플러싱 시간이 오래 걸리는 경우 해당 이벤트가 데이터베이스 서버 로그에 기록된다.
>
> 기록되는 정보의 예는 다음과 같다.
>
>     03/18/14 10:20:45.889 - LOG_FLUSH_THREAD_WAIT 
>       total flush count: 1 page(s) 
>       total flush time: 310 ms 
>       time waiting for log writer: 308 ms 
>       last log writer info 
>         client: DBA@cdbs037.cub|copylogdb(15312) 
>         time spent by log writer: 308 ms 
>
> -   LOG\_FLUSH\_THREAD\_WAIT: 이벤트 이름
> -   total flush count: 이벤트 발생 당시 플러시(flush)한 페이지 수
> -   total flush time: 총 플러시 소요 시간
> -   time waiting for log writer: LFT(Log Flushing Thread)가 LWT(Log Writer Thread)를 대기한 시간
> -   last log writer info
>     -   <DBA@cdbs037.cub%7Ccopylogdb>(15312): LFT를 대기하게 한 LWT와 관련된 copylogdb 정보 &lt;[사용자@호스트명|클라이언트명](mailto:사용자@호스트명%7C클라이언트명)(pid)&gt;
>     -   time spent by log writer: LWT에서 측정한 LWT 소요 시간(일반적으로 time waiting for log writer와 동일)

**max\_flush\_size\_per\_second**

> **max\_flush\_size\_per\_second**는 버퍼로부터 디스크로 내려쓰기(flush) 작업을 수행할 때, 내려쓰기할 최대 용량 (flush capacity)을 설정하기 위한 파라미터이다. 값 뒤에 B, K, M, G, T로 단위를 붙일 수 있으며, 각각 Bytes, Kilobytes, Megabytes, Gigabytes, Terabytes를 의미한다. 단위를 생략하면 바이트 단위가 적용된다. 기본값은 10,000 \* db\_page\_size &lt;dpg&gt; (db\_page\_size가 16K이면 **156.25M**)이다. 즉, 이 파라미터 설정을 통해 1초당 내려쓰기할 최대 용량을 제어하여, 특정 시점에 I/O 부하가 집중되는 현상을 방지할 수 있다.
>
> 만약, 특정 시점에 **INSERT** 또는 **UPDATE** 연산이 집중되어 이 파라미터에 의해 설정된 최대 용량에 도달하면, 로그 페이지만 내려쓰기를 수행하고 데이터 페이지는 더 이상 디스크로 내려쓰지 않는다. 따라서, 이 파라미터는 서비스 환경의 워크로드를 고려하여 적절한 값을 설정해야 한다.

**remove\_log\_archive\_interval\_in\_secs**

> **log\_max\_archives**에서 지정한 개수를 초과한 보관 로그는 체크포인트가 발생하는 시점에 삭제하게 되는데, 데이터 마이그레이션이나 대량 배치와 같은 작업이 수행되는 경우 많은 양의 보관 로그가 쌓였다가 일시에 지워지는 일이 자주 발생한다. 이렇게 파일 삭제가 한꺼번에 발생한다면 데이터베이스 서버의 I/O 부하가 급격히 증가하므로, 이 부담을 줄일 필요가 있다.
>
> **remove\_log\_archive\_interval\_in\_secs** 파라미터는 이러한 부담을 줄이고자 보관 로그의 삭제를 천천히 진행하게 한다. 기본값은 0(초)이다. 대량 배치와 같은 작업이 자주 발생하는 상황에서, 디스크 공간이 충분하다면 삭제 간격을 60초 정도로 줄 것을 권장한다.

**sync\_on\_flush\_size**

> **sync\_on\_flush\_size**는 버퍼로부터 데이터 페이지 및 로그 페이지를 내려쓰기한 후, 운영 시스템의 FILE I/O와 동기화를 수행하는 주기를 페이지 단위로 설정하는 파라미터이다. 값 뒤에 B, K, M, G, T로 단위를 붙일 수 있으며, 각각 Bytes, Kilobytes, Megabytes, Gigabytes, Terabytes를 의미한다. 단위를 생략하면 바이트 단위가 적용된다. 기본값은 200 \* db\_page\_size &lt;dpg&gt; (db\_page\_size가 16K이면 **3.125M**)이다. 즉, 200페이지만큼 내려쓰기 작업이 수행될 때마다 Rye 서버는 운영 체제의 FILE I/O와 동기화를 수행한다. I/O 부하와 관련된 파라미터이다.

### 트랜잭션 처리 관련 파라미터

다음은 트랜잭션의 커밋 성능 향상을 위한 파라미터로 각 파라미터의 타입과 설정 가능한 값의 범위는 다음과 같다.

<table style="width:100%;">
<colgroup>
<col width="46%" />
<col width="12%" />
<col width="13%" />
<col width="13%" />
<col width="13%" />
</colgroup>
<thead>
<tr class="header">
<th>파라미터 이름</th>
<th>타입</th>
<th>기본값</th>
<th>최소값</th>
<th>최대값</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>async_log_flush_interval</td>
<td>msec</td>
<td>10</td>
<td>0</td>
<td></td>
</tr>
</tbody>
</table>

**async\_log\_flush\_interval**

> **async\_log\_flush\_interval**은 비동기식 커밋을 수행하는 간격을 밀리초(mesc) 단위로 지정하는 파라미터로 **0** 으로 설정되면 비동기식 커밋을 수행하지 않는다. 비동기식 커밋이란 커밋 로그가 디스크에 플러시되기 이전에 클라이언트에게 커밋을 완료 처리하고, 로그 플러시 스레드(LFT)가 로그 플러시를 백그라운드에서 수행하여 커밋 작업의 성능을 향상시키는 기능이다. 로그 플러시가 수행되기 전에 데이터베이스 서버에 장애가 발생하면 이미 커밋 완료된 트랜잭션을 복구할 수 없으므로 주의한다.

### 구문/타입 관련 파라미터

다음은 Rye에서 지원하는 SQL 구문 및 데이터 타입에 관한 파라미터로 각 파라미터의 타입과 설정 가능한 값의 범위는 다음과 같다.

<table>
<colgroup>
<col width="41%" />
<col width="10%" />
<col width="15%" />
<col width="15%" />
<col width="15%" />
</colgroup>
<thead>
<tr class="header">
<th>파라미터 이름</th>
<th>타입</th>
<th>기본값</th>
<th>최소값</th>
<th>최대값</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>add_column_update_hard_default</td>
<td>bool</td>
<td>no</td>
<td></td>
<td></td>
</tr>
<tr class="even">
<td>alter_table_change_type_strict</td>
<td>bool</td>
<td>no</td>
<td></td>
<td></td>
</tr>
<tr class="odd">
<td>ansi_quotes</td>
<td>bool</td>
<td>yes</td>
<td></td>
<td></td>
</tr>
<tr class="even">
<td>block_ddl_statement</td>
<td>bool</td>
<td>no</td>
<td></td>
<td></td>
</tr>
<tr class="odd">
<td>block_nowhere_statement</td>
<td>bool</td>
<td>no</td>
<td></td>
<td></td>
</tr>
<tr class="even">
<td>group_concat_max_len</td>
<td>byte</td>
<td>1,024</td>
<td>4</td>
<td>33,554,432</td>
</tr>
<tr class="odd">
<td>intl_check_input_string</td>
<td>bool</td>
<td>no</td>
<td></td>
<td></td>
</tr>
<tr class="even">
<td>intl_number_lang</td>
<td>string</td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="odd">
<td>no_backslash_escapes</td>
<td>bool</td>
<td>yes</td>
<td></td>
<td></td>
</tr>
<tr class="even">
<td>only_full_group_by</td>
<td>bool</td>
<td>no</td>
<td></td>
<td></td>
</tr>
<tr class="odd">
<td>oracle_style_empty_string</td>
<td>bool</td>
<td>no</td>
<td></td>
<td></td>
</tr>
<tr class="even">
<td>pipes_as_concat</td>
<td>bool</td>
<td>yes</td>
<td></td>
<td></td>
</tr>
<tr class="odd">
<td>plus_as_concat</td>
<td>bool</td>
<td>yes</td>
<td></td>
<td></td>
</tr>
<tr class="even">
<td>require_like_escape_character</td>
<td>bool</td>
<td>no</td>
<td></td>
<td></td>
</tr>
<tr class="odd">
<td>unicode_input_normalization</td>
<td>bool</td>
<td>no</td>
<td></td>
<td></td>
</tr>
<tr class="even">
<td>unicode_output_normalization</td>
<td>bool</td>
<td>no</td>
<td></td>
<td></td>
</tr>
</tbody>
</table>

**ansi\_quotes**

> **ansi\_quotes**는 식별자 처리를 위한 기호 또는 문자열을 감싸는 기호에 관한 파라미터로 기본값은 **yes**이다. 이 파라미터 값이 yes이면 큰따옴표는 식별자 처리 기호로 해석되고, 작은따옴표는 문자열 처리 기호로 해석된다. 이 값이 no이면 큰 따옴표와 작은 따옴표 모두 문자열 처리 기호로 해석된다.

**block\_ddl\_statement**

> **block\_ddl\_statement**는 클라이언트가 수행하는 데이터 정의문(Data Definition Language, DDL)을 제한하기 위한 파라미터로 no로 설정하면 해당 클라이언트의 데이터 정의문 수행을 허용하며, yes로 설정하면 해당 클라이언트의 데이터 정의문 수행을 허용하지 않는다. 기본값은 **no**이다.

**block\_nowhere\_statement**

> **block\_nowhere\_statement**는 클라이언트가 수행하는 조건절(**WHERE**)이 없는 **UPDATE** / **DELETE** 문을 제한하기 위한 파라미터로 no로 설정하면 해당 클라이언트의 조건절이 없는 **UPDATE** / **DELETE** 문을 허용하며, yes로 설정하면 해당 클라이언트의 조건절이 없는 **UPDATE** / **DELETE** 문의 수행을 허용하지 않는다. 기본값은 **no**이다.

**group\_concat\_max\_len**

> **group\_concat\_max\_len**은 GROUP\_CONCAT 함수의 리턴 값의 크기를 제한하는 파라미터이다. 값 뒤에 B, K, M, G, T로 단위를 붙일 수 있으며, 각각 Bytes, Kilobytes, Megabytes, Gigabytes, Terabytes를 의미한다. 단위를 생략하면 바이트 단위가 적용된다. 기본값은 **1,024** 바이트이며, 최소값은 4 바이트, 최대값은 33,554,432 바이트이다. GROUP\_CONCAT 함수의 결과가 제한을 넘으면 오류가 반환된다.

**intl\_number\_lang**

> **intl\_number\_lang**은 문자열을 숫자로, 또는 숫자를 문자열로 변환하는 함수들에서 입력되거나 출력되는 문자열에 숫자 형식을 부여할 때 적용할 로캘을 지정하는 파라미터이다. 숫자에 대해 지역화되는 것들은 자릿수 구분 기호와 소수점 기호이다. 일반적으로는 쉼표(,)와 마침표(.)가 쓰이는데, 로캘에 따라 서로 바뀔 수 있다. 예를 들어, 숫자 1000.12(천 소수점 이하 일이)는 대부분의 로캘에서는 1,000.12로 쓰이는 반면, tr\_TR 로캘에서는 1.000,12로 쓰인다.
>
> 지정된 언어의 숫자 형식에 따라 입력 문자열을 인식하는 함수는 다음과 같다.
>
> -   TO\_NUMBER
>
> 지정된 언어의 숫자 형식에 따라 문자열을 출력하는 함수는 다음과 같다.
>
> -   FORMAT
> -   TO\_CHAR

**no\_backslash\_escapes**

> **no\_backslash\_escapes**은 이스케이프 문자로 백슬래시(\\) 사용 여부에 관한 파라미터로서, 기본값은 **yes**이다. 이 파라미터 값이 no이면 백슬래시(\\)가 이스케이프 문자로 사용되며, yes이면 백슬래시는 일반 문자로 사용된다. 예를 들어, 이 값이 no 일 때 "\\n"은 개행(new line) 문자를 의미한다. 그러나 이 값이 yes이면 "\\n"은 "\\"과 "n" 두 개의 문자를 의미한다.
>
> 백슬래시가 이스케이프 문자로 사용되는 경우에 대한 자세한 설명은 escape-characters 를 참고한다.

**pipes\_as\_concat**

> **pipes\_as\_concat**은 이중 파이프 기호(||)의 사용에 관한 파라미터로서, 기본값은 **yes**이다. 이 파라미터 값이 yes이면 이중 파이프 기호가 문자열의 병합 연산자로 해석되고, no이면 불리언(boolean) 연산자인 **OR**로 해석된다.

**require\_like\_escape\_character**

> **require\_like\_escape\_character**는 **LIKE** 절의 이스케이프 문자 사용 여부에 관한 파라미터로서, 기본값은 **no**이다. 이 파라미터 값이 yes이고 **no\_backslash\_escapes** 가 no이면 **LIKE** 절의 문자열에서 백슬래시(\\)가 이스케이프 문자로 사용되며, 그렇지 않으면 **LIKE... ESCAPE** 절을 사용하여 이스케이프 문자를 명시해야 한다. 자세한 내용은 like-expr 을 참고한다.

**return\_null\_on\_function\_errors**

> **return\_null\_on\_function\_errors**는 일부 SQL 함수에서 에러가 발생할 때의 동작을 정의하는 파라미터로서, 기본값은 **no**이다. 이 파라미터 값이 yes이면 함수에서 에러가 발생할 때 **NULL**을 반환하며, no이면 함수에서 에러가 발생할 때 에러를 반환하고 관련 메시지를 출력한다.
>
> 다음 SQL 함수가 이 시스템 파라미터의 영향을 받는다.
>
> **날짜/시간 함수**
>
> -   ADDDATE
> -   ADDTIME
> -   DATEDIFF
> -   DAY
> -   DAYOFMONTH
> -   DAYOFWEEK
> -   DAYOFYEAR
> -   FROM\_DAYS
> -   FROM\_UNIXTIME
> -   HOUR
> -   LAST\_DAY
> -   MAKEDATE
> -   MAKETIME
> -   MINUTE
> -   MONTH
> -   QUARTER
> -   SEC\_TO\_TIME
> -   SECOND
> -   TIME
> -   TIME\_TO\_SEC
> -   TIMEDIFF
> -   TO\_DAYS
> -   WEEK
> -   WEEKDAY
> -   YEAR
>
> **문자열 함수**
>
> -   ASCII
> -   BIN
> -   BIT\_LENGTH
> -   CHR
>
> **수치 함수**
>
> -   ABS
> -   ACOS
> -   ASIN
> -   ATAN
> -   ATAN2
> -   CEIL
> -   CONV
> -   COS
> -   COT
> -   DEGREES
> -   EXP
> -   FLOOR
> -   LN
> -   LOG2
> -   LOG10
> -   MOD
> -   POW
> -   RADIANS
> -   SIGN
> -   SIN
> -   SQRT
> -   TAN
> -   TRUNC
> -   WIDTH\_BUCKET
>
> ``` sourceCode
> SET SYSTEM PARAMETERS 'return_null_on_function_errors=no';         
> SELECT YEAR('12:34:56');
> ```
>
>     ERROR: Conversion error in time format.
>
> ``` sourceCode
> SET SYSTEM PARAMETERS 'return_null_on_function_errors=yes';         
> SELECT YEAR('12:34:56');
> ```
>
>     year('12:34:56')
>
> > ======================  
> > NULL
> >
**unicode\_input\_normalization**

> 시스템 수준에서 입력할 유니코드를 결합된 코드로 저장할지 여부를 설정하는 파라미터로 기본값은 **no**이다.
>
> 일반적으로 유니코드 텍스트는 "완전히 결합된(fully composed)" 혹은 "완전히 분해된(fully decomposed)" 상태로 저장될 수 있다. 예를 들면 "완전히 결합된" 문자 'Ä'는 하나의 코드포인트인 00C4를 갖는데, 이는 UTF-8 인코딩으로 C3 84의 2바이트가 된다. 이와 달리 "완전히 분해된" 모드에서는 두 개의 코드포인트/문자 0041(문자 "A")과 0308(COMBINING DIAERESIS)이 되며, UTF-8 인코딩으로는 41 CC 88의 3바이트가 된다.
>
> Rye는 완전히 결합된 유니코드만 가지고 동작할 수 있다. 완전히 분해된 문자열을 가진 응용 클라이언트에 대해서는 **unicode\_input\_normalization** 의 값을 yes로 설정하여 완전히 결합된 코드로 변환하여 동작한 후 **unicode\_output\_normalization** 의 값을 yes로 설정하여 다시 완전히 분해된 텍스트로 되돌려줄 수 있다. 일반적으로 유니코드 정규화는 결합 이후 분해 시 역변환이 불가능하지만 Rye는 가능한 한 많은 문자들의 역변환을 가능하게 하기 위해 간략화한 유니코드 정규화 방식을 적용한다. Rye 정규화의 특징은 다음과 같다.
>
> -   정규화는 언어 특징적인 요소가 아니며 로캘에 의존하지 않는다.
>
>     일단 하나 이상의 로캘을 사용할 수 있다면, 모든 CAS/RSQL 프로세스에서 이를 사용할 수 있다. 하지만 정규화는 Rye 서버 프로세스에 적용되는 것이 아니다. **unicode\_input\_normalization** 시스템 파라미터는 시스템 수준에서 정규화에 의한 입력 코드의 결합 여부를 지정한다. **unicode\_output\_normalization** 시스템 파라미터는 시스템 수준에서 정규화에 의한 출력 코드의 분해 여부를 지정한다.
>
> -   콜레이션과 정규화는 직접 관련이 없다.
>
>     **unicode\_input\_normalization** 값이 no임에도 불구하고, 확장이 있는 콜레이션(utf8\_de\_exp, utf8\_jap\_exp, utf8\_km\_exp) 문자열이 완전히 분해된 상태에서 제대로 정렬되지만 이는 의도한 사항이 아니며 UCA(Unicode Collation Algorithm)의 우연한 효과(side-effect)일 뿐이다. 확장이 있는 콜레이션은 오직 완전히 결합된 텍스트만 가지고 동작하도록 구현되었다.
>
> -   Rye에서 유니코드 정규화를 위한 결합(composition)과 분해(decomposition)는 별개로 동작하지 않는다.
>
> 클라이언트 응용 프로그램이 텍스트 데이터를 분해된 형태로 Rye에 보낸다면, **unicode\_input\_normalization**을 **yes**로 설정하여 Rye가 결합된 코드로 다루게 한다.
>
> 클라이언트 응용 프로그램이 분해된 형태로만 데이터를 다룰 수 있다면 **unicode\_output\_normalization**을 **yes**로 설정하여 Rye가 항상 분해된 코드로 데이터를 보내도록 한다.
>
> 클라이언트 응용 프로그램이 입력과 출력의 형태에 대해 모두 알고 있다면, **unicode\_input\_normalization**과 **unicode\_output\_normalization**을 **no** 인 상태로 둔다(기본 설정).
>
> 로캘과 콜레이션에 대한 자세한 설명은 /sql/i18n 을 참고한다.

**unicode\_output\_normalization**

> 시스템 수준에서 저장된 유니코드를 분해된 코드로 출력할 것인지 여부를 설정하는 파라미터로 기본값은 **no**이다. 보다 자세한 설명은 위의 **unicode\_input\_normalization** 설명을 참고한다.

### 질의 계획 캐시 관련 파라미터

다음은 질의 계획에 대한 캐시 기능과 관련된 파라미터로 각 파라미터의 타입과 설정 가능한 값의 범위는 다음과 같다.

<table style="width:99%;">
<colgroup>
<col width="44%" />
<col width="12%" />
<col width="13%" />
<col width="13%" />
<col width="13%" />
</colgroup>
<thead>
<tr class="header">
<th>파라미터 이름</th>
<th>타입</th>
<th>기본값</th>
<th>최소값</th>
<th>최대값</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>max_plan_cache_entries</td>
<td>int</td>
<td>1,000</td>
<td></td>
<td></td>
</tr>
<tr class="even">
<td>max_filter_pred_cache_entries</td>
<td>int</td>
<td>1,000</td>
<td></td>
<td></td>
</tr>
</tbody>
</table>

**max\_plan\_cache\_entries**

> **max\_plan\_cache\_entries**는 메모리에 캐시하는 질의 실행 계획의 최대 개수를 설정하는 파라미터이다. **max\_plan\_cache\_entries** 파라미터가 -1이나 0으로 설정되면 작성된 질의 실행 계획을 메모리 캐시에 저장하지 않는 것이며, 1 이상의 정수값이 설정되면 설정된 개수만큼의 질의 실행 계획을 메모리 캐시한다.
>
> 다음은 최대 1,000개의 질의에 대해 질의 실행 계획 캐시 기능을 수행하는 예제이다. :
>
>     max_plan_cache_entries=1000

### 유틸리티 관련 파라미터

다음은 Rye에서 사용되는 유틸리티와 관련된 파라미터로 각 파라미터의 타입과 설정 가능한 값의 범위는 다음과 같다.

<table style="width:97%;">
<colgroup>
<col width="43%" />
<col width="12%" />
<col width="13%" />
<col width="13%" />
<col width="13%" />
</colgroup>
<thead>
<tr class="header">
<th>파라미터 이름</th>
<th>타입</th>
<th>기본값</th>
<th>최소값</th>
<th>최대값</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>backup_volume_max_size_bytes</td>
<td>byte</td>
<td>0</td>
<td>32K</td>
<td></td>
</tr>
<tr class="even">
<td>communication_histogram</td>
<td>bool</td>
<td>no</td>
<td></td>
<td></td>
</tr>
<tr class="odd">
<td>compactdb_page_reclaim_only</td>
<td>int</td>
<td>0</td>
<td></td>
<td></td>
</tr>
<tr class="even">
<td>rsql_history_num</td>
<td>int</td>
<td>50</td>
<td>1</td>
<td>200</td>
</tr>
</tbody>
</table>

**backup\_volume\_max\_size\_bytes**

> **backup\_volume\_max\_size\_bytes**는 **rye backupdb** 유틸리티에 의해 생성되는 백업 볼륨 파일의 분할 크기를 바이트 단위로 설정하는 파라미터이다. 값 뒤에 B, K, M, G, T로 단위를 붙일 수 있으며, 각각 Bytes, Kilobytes, Megabytes, Gigabytes, Terabytes를 의미한다. 단위를 생략하면 바이트 단위가 적용된다. 기본값은 0이고, 최소값은 32K이다.
>
> 기본값인 0으로 설정하면 생성되는 백업 볼륨이 분할되지 않으며, 0보다 큰 값을 설정하면 지정된 크기의 단위로 백업 볼륨 파일을 분할하여 생성한다.

**communication\_histogram**

> **communication\_histogram**은 rsql 인터프리터의 rsql-session-commands " **;.h** "와 관련된 파라미터이며, 기본값은 **no**이다. RSQL 실행 통계 정보 출력 &lt;rsql-execution-statistics&gt;를 참고한다.

**compactdb\_page\_reclaim\_only**

> **compactdb\_page\_reclaim\_only**는 **compactdb** 유틸리티와 관련된 파라미터로 이미 할당된 저장 영역의 OID를 재사용하기 위하여 이미 삭제된 객체의 저장 영역을 정리하는 유틸리티이다. **compactdb** 유틸리티에 의해 저장 영역이 재정렬되는 작업은 3단계로 구분할 수 있으며, **compactdb\_page\_reclaim\_only** 파라미터를 통해 재정렬 작업의 단위를 선택할 수 있다. 기본값인 **0** 으로 설정하면 1, 2, 3단계를 모두 수행하므로 데이터 단위, 테이블 단위, 파일 단위로 저장 영역을 재정렬한다. 1로 설정하면 1단계를 생략하므로 테이블 및 파일 단위로 저장 영역을 재정렬하고, 2로 설정하면 1, 2단계를 생략하므로 파일 단위로만 저장 영역을 재정렬한다.
>
> -   1단계 : 데이터 단위로 저장 영역을 재정렬한다.
> -   2단계 : 테이블 단위로 저장 영역을 재정렬한다.
> -   3단계 : 파일 단위(heap file)로 저장 영역을 재정렬한다.

**rsql\_history\_num**

> **rsql\_history\_num**은 RSQL 인터프리터와 관련된 파라미터로 RSQL 인터프리터 내에서 히스토리 내역으로 저장되는 SQL 문의 개수를 설정하는 파라미터이다. 기본값은 **50**이다.

### HA 관련 파라미터

다음은 HA 관련 파라미터로, 각 파라미터의 타입과 설정 가능한 값의 범위는 다음과 같다.

<table style="width:49%;">
<colgroup>
<col width="22%" />
<col width="12%" />
<col width="13%" />
</colgroup>
<thead>
<tr class="header">
<th>파라미터 이름</th>
<th>타입</th>
<th>기본값</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>ha_mode</td>
<td>string</td>
<td>off</td>
</tr>
</tbody>
</table>

**ha\_mode**

> **ha\_mode**는 Rye HA 기능을 설정하기 위한 파라미터이며, 기본값은 **off**이다.
>
> -   off : Rye HA 기능을 사용하지 않는다.
> -   on : 설정한 노드는 failover의 대상이 되는 노드로, Rye HA 기능을 사용한다.
> -   replica : 설정한 노드는 failover의 대상이 되지 않는 노드로, Rye HA 기능을 사용한다.
>
> Rye HA 기능을 사용하려면 **ha\_mode** 파라미터를 설정하는 것 외에 **rye\_ha.conf** 파일에서 HA 관련 파라미터를 설정해야 한다. 자세한 내용은 /ha 를 참고한다.

### 기타 파라미터

다음은 기타 파라미터 정보로 각 파라미터의 타입과 설정 가능한 값의 범위는 다음과 같다.

<table>
<colgroup>
<col width="31%" />
<col width="8%" />
<col width="20%" />
<col width="20%" />
<col width="20%" />
</colgroup>
<thead>
<tr class="header">
<th>파라미터 이름</th>
<th>타입</th>
<th>기본값</th>
<th>최소값</th>
<th>최대값</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>access_ip_control</td>
<td>bool</td>
<td>no</td>
<td></td>
<td></td>
</tr>
<tr class="even">
<td>access_ip_control_file</td>
<td>string</td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="odd">
<td>agg_hash_respect_order</td>
<td>bool</td>
<td>yes</td>
<td></td>
<td></td>
</tr>
<tr class="even">
<td>auto_restart_server</td>
<td>bool</td>
<td>yes</td>
<td></td>
<td></td>
</tr>
<tr class="odd">
<td>index_scan_in_oid_order</td>
<td>bool</td>
<td>no</td>
<td></td>
<td></td>
</tr>
<tr class="even">
<td>index_unfill_factor</td>
<td>float</td>
<td>0.05</td>
<td>0</td>
<td>0.5</td>
</tr>
<tr class="odd">
<td>java_stored_procedure</td>
<td>bool</td>
<td>no</td>
<td></td>
<td></td>
</tr>
<tr class="even">
<td>multi_range_optimization_limit</td>
<td>int</td>
<td>100</td>
<td>0</td>
<td>10,000</td>
</tr>
<tr class="odd">
<td>optimizer_enable_merge_join</td>
<td>bool</td>
<td>no</td>
<td></td>
<td></td>
</tr>
<tr class="even">
<td>pthread_scope_process</td>
<td>bool</td>
<td>yes</td>
<td></td>
<td></td>
</tr>
<tr class="odd">
<td>server</td>
<td>string</td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="even">
<td>service</td>
<td>string</td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="odd">
<td>session_state_timeout</td>
<td>sec</td>
<td>21,600(6시간)</td>
<td>60(1분)</td>
<td>31,536,000(1년)</td>
</tr>
<tr class="even">
<td>sort_limit_max_count</td>
<td>int</td>
<td>1,000</td>
<td>0</td>
<td>INT_MAX</td>
</tr>
<tr class="odd">
<td>sql_trace_slow</td>
<td>msec</td>
<td>-1(무제한)</td>
<td>0</td>
<td>86,400,000(24시간)</td>
</tr>
<tr class="even">
<td>sql_trace_execution_plan</td>
<td>bool</td>
<td>yes</td>
<td></td>
<td></td>
</tr>
<tr class="odd">
<td>use_orderby_sort_limit</td>
<td>bool</td>
<td>yes</td>
<td></td>
<td></td>
</tr>
</tbody>
</table>

**access\_ip\_control**

> **access\_ip\_control**은 서버 접속을 허용하는 IP를 제한하는 기능 사용 여부를 지정하는 파라미터이다. 기본값은 **no**이다. 자세한 내용은 limiting-server-access 을 참고한다.

**access\_ip\_control\_file**

> **access\_ip\_control\_file**은 서버가 허용하는 IP 목록을 저장한 파일 이름을 지정하는 파라미터이다. **access\_ip\_control** 값이 yes이면 데이터베이스 서버는 이 파라미터로 지정한 파일에 저장된 IP의 접속만 허용한다. 자세한 내용은 limiting-server-access 을 참고한다.

**auto\_restart\_server**

> **auto\_restart\_server**는 데이터베이스 서버 프로세스에 심각한 오류가 발생해서 프로세스가 중단될 경우에 자동으로 재시작할 것인가를 지정하는 파라미터이다. **auto\_restart\_server**를 yes로 설정하면 서버 프로세스가 오류로 중단되었을 때 자동으로 재시작한다. 정상적인 종료 절차(Rye 서버의 **STOP** 명령)에 의해 종료된 경우에는 해당하지 않는다.

**index\_unfill\_factor**

> 최초 인덱스 생성 후 **INSERT** 나 **UPDATE**를 실행할 때 인덱스 페이지가 꽉 차서 여유 공간이 없으면 인덱스 페이지 노드 분할(split)이 발생하는데, 이는 오퍼레이션 시간을 증가시켜 성능에 영향을 미친다. **index\_unfill\_factor**는 인덱스를 생성할 때 각 인덱스 페이지 노드의 여유 공간을 확보하는 비율을 지정하는 파라미터이다. **index\_unfill\_factor** 설정값은 인덱스를 처음 생성할 때만 적용되며, 페이지에 지정된 빈 공간의 비율을 동적으로 유지하지 않는다. 값의 범위는 0부터 0.5까지이고 기본값은 **0.05**이다.
>
> 인덱스를 생성할 때 인덱스의 페이지 노드에 여유 공간이 없이(**index\_unfill\_factor**를 0으로 설정) 생성한다면, 추가로 삽입할 때마다 매번 인덱스 페이지 노드의 분할이 발생하여 성능에 영향을 끼친다.
>
> **index\_unfill\_factor** 값이 크면 인덱스 생성 시 노드 여유 공간을 많이 확보한다. 따라서 최초 인덱스 생성 후 노드 여유 공간이 꽉 찰 때까지 상대적으로 긴 시간 동안 인덱스 노드의 분할이 발생하지 않으므로, 상대적으로 성능이 나을 수 있다. 이 값이 작으면 인덱스 생성 시 노드 여유 공간이 작기 때문에, 인덱스 노드의 여유 공간이 금방 꽉 차게 될 가능성이 높으므로, 상대적으로 **INSERT** 나 **UPDATE** 에 의한 인덱스 노드 분할 발생 가능성이 높다.

**multi\_range\_optimization\_limit**

> **multi\_range\_optimization\_limit**은 다중 범위(col IN (? , ?, ... ,?))의 조건을 가지며 인덱스 사용이 가능한 질의에서, **LIMIT** 절이 지정하는 행의 개수가 이 파라미터가 지정하는 숫자 이내이면 인덱스 정렬 방식에 대한 최적화를 수행한다. 기본값은 **100**이다.
>
> 예를 들어, 이 파라미터의 값이 50일 때 LIMIT 10이면 이 파라미터가 지정한 값 이내이므로 각 조건에 해당하는 범위의 값을 정렬하면서 결과를 생성한다. LIMIT 60이면 파라미터 설정값을 초과하므로 각 조건에 해당하는 범위의 값을 모두 가져온 후 정렬한다.
>
> 이 값의 설정에 따라 중간 값의 정렬을 진행하면서(on-the-fly) 결과를 수집하느냐, 결과 값을 먼저 수집한 후 정렬하느냐의 차이가 발생하므로, 이 값이 너무 크면 오히려 성능에 불리할 수 있다.

**pthread\_scope\_process**

> **pthread\_scope\_process**는 스레드의 경쟁 범위를 설정하는 파라미터로 AIX 시스템에서만 적용된다. no로 설정하면 경쟁 범위가 **PTHREAD\_SCOPE\_SYSTEM**이 되고, yes로 설정하면 **PTHREAD\_SCOPE\_PROCESS** 가 된다. 기본값은 **yes**이다.

**server**

> **server**는 Rye 서비스 시작 시 자동으로 시작하도록 하는 데이터베이스 서버 프로세스들의 이름을 등록하는 파라미터이다. 해당 데이터베이스들의 이름을 쉼표(,)로 구분하여 나열한다.

**service**

> **service**는 Rye 서비스 시작 시 자동으로 시작하는 프로세스를 등록하는 파라미터로 **server**, **broker**, **manager**, **heartbeat** 의 네 종류 프로세스가 있다. 일반적으로 **service=server,broker,manager**와 같이 세 종류 프로세스를 등록한다. 각 프로세스에 따른 동작은 다음과 같다.
>
> -   **server** : **@server** 파라미터에서 지정한 데이터베이스 프로세스를 시작한다.
> -   **broker** : 브로커 프로세스를 시작한다.
> -   **manager** : 매니저 프로세스를 시작한다.
> -   **heartbeat** : HA 관련 프로세스를 시작한다.

**session\_state\_timeout**

> **session\_state\_timeout**은 DB 서버 프로세스 내에서 세션 데이터가 유지되는 시간을 정의하는 시스템 파라미터이다. 세션 데이터는 드라이버가 연결을 종료하거나 세션 기간이 만료될(expired) 때 삭제되며, 응용 클라이언트가 비정상 종료되면 지정한 시간 이후에 세션 기간이 만료된다.
>
> Rye 세션 데이터에 해당하는 것은 **SET** 으로 정의된 사용자 변수, **PREPARE** 문, 가장 마지막에 삽입한 ID(**LAST\_INSERT\_ID**), 가장 마지막에 실행한 문장에 영향받은 레코드의 개수(**ROW\_COUNT**)이다. **SET** 으로 정의된 사용자 변수와 **PREPARE** 문은 세션 기간이 만료되기 전에 **DROP** / **DEALLOCATE** 문을 수행하여 삭제할 수 있다.
>
> 기본값은 **21,600** (6시간)이고, 단위는 초이다.

**sort\_limit\_max\_count**

> "ORDER BY ... LIMIT *N*" 구문에 의해 top-N 개의 행이 정렬될 때 적용될 수 있는 SORT-LIMIT 최적화와 관련하여, 해당 최적화를 적용하는 것을 제한하는 LIMIT 행 개수를 명시한다. *N*의 값이 **sort\_limit\_max\_count**의 값보다 작을 때 SORT-LIMIT 최적화가 적용된다. 기본값은 **1,000**이며, 최소값은 0(최적화를 항상 안 한다는 뜻), 최대값은 INT\_MAX이다.
>
> 좀더 자세한 사항은 sort-limit-optimization를 참고한다.

**sql\_trace\_slow**

> **sql\_trace\_slow**는 장기 실행 질의(long running query)로 판단될 질의 실행 시간을 설정하는 파라미터이다. ms, s, min, h 단위를 지정할 수 있으며 각각 milliseconds, seconds, minutes, hours를 의미한다. 단위 생략 시 기본 단위는 밀리초(ms)이다. 기본값은 **-1**이고 최대값은 86,400,000 밀리초(24h)이다. -1은 무한대 시간을 의미하며 어떤 질의도 장기 실행 질의로 판단되지 않는다. 자세한 내용은 아래의 **sql\_trace\_execution\_plan** 의 설명을 참고한다.
>
> **sql\_trace\_slow**는 서버의 질의 실행 시간을 기준으로 실행 시간 초과 여부를 판단하며, **MAX\_QUERY\_TIMEOUT** 브로커 파라미터는 브로커 단에서의 질의 실행 시간을 기준으로 이를 판단한다.
>
**sql\_trace\_execution\_plan**

> **sql\_trace\_execution\_plan**은 **sql\_trace\_slow** 파라미터 값의 설정 시간을 초과한 장기 실행 질의(long running query)의 실행 계획을 출력할지 여부를 설정하는 파라미터이다. 기본값은 **no**이다.
>
> 이 값이 yes이면 서버 에러 로그 파일($Rye/log/server 이하의 파일), CAS 로그 파일($Rye/log/broker/sql\_log 이하의 파일)에 해당 SQL 문, 질의 실행 계획, rye statdump 명령의 출력 정보를 기록하며, rye plandump를 실행할 때 해당 SQL 문과 질의 실행 계획을 출력한다.
>
> 이 값이 no면 서버 에러 로그 파일, CAS 로그 파일에 해당 SQL문만 기록하며, rye plandump를 실행할 때 해당 SQL 문만 출력한다.
>
> 예를 들어 5초를 초과하면 느린 질의(slow query)로 규정하고 해당 질의의 실행 계획을 로그 파일에 출력하고 싶은 경우, **sql\_trace\_slow**의 값을 5,000(ms)로 설정하고 **sql\_trace\_execution\_plan** 의 값을 yes로 설정한다.
>
> 단, 서버 에러 로그 파일에는 error\_log\_level 파라미터의 값이 NOTIFICATION인 경우에만 해당 정보를 기록한다.

**use\_orderby\_sort\_limit**

> **use\_orderby\_sort\_limit**은 **ORDER BY ... LIMIT** *row\_count* 절을 포함하는 구문에서 질의의 정렬 및 합병(sort and merge) 과정의 중간 결과를 *row\_count* 만큼만 유지할 것인지를 지정하는 파라미터이다. yes이면 중간 정렬 결과를 *row\_count* 만큼만 유지하기 때문에 불필요한 비교 및 합병 과정을 줄일 수 있다. 기본값은 **yes**이다.

브로커 설정
-----------

### rye\_broker.conf 설정 파일과 기본 제공 파라미터

**브로커 시스템 파라미터**

> 다음은 **rye\_broker.conf** 설정 파일에 사용할 수 있는 브로커 파라미터이다. 각 파라미터에 대한 설명은 broker-common-parameters 및 parameter-by-broker 를 참조한다. 동적으로 설정값 변경이 가능한 파라미터는 **broker\_changer** 유틸리티를 이용하여 한시적으로 변경할 수 있다. **rye broker restart**로 전체 브로커를 재시작한 후에도 값이 적용되도록 하려면 **rye\_broker.conf** 에 설정된 값을 변경해 두어야 한다.
>
> <table style="width:100%;">
> <colgroup>
> <col width="23%" />
> <col width="17%" />
> <col width="23%" />
> <col width="6%" />
> <col width="21%" />
> <col width="8%" />
> </colgroup>
> <thead>
> <tr class="header">
> <th>적용 구분</th>
> <th>용도</th>
> <th>파라미터 이름</th>
> <th>타입</th>
> <th>기본값</th>
> <th>동적 변경</th>
> </tr>
> </thead>
> <tbody>
> <tr class="odd">
> <td><p>broker-common-parameters</p>
> <blockquote>
> <p>+</p>
> <p>+</p>
> </blockquote></td>
> <td><blockquote>
> <dl>
> <dt>접속</dt>
> <dd><p>+</p>
> </dd>
> </dl>
> </blockquote>
> <dl>
> <dt>-------------------------+</dt>
> <dd><p>로그</p>
> </dd>
> <dt>-------------------------+</dt>
> <dd><p>브로커 서버(cub_broker)</p>
> </dd>
> </dl></td>
> <td><blockquote>
> <p>ACCESS_CONTROL</p>
> </blockquote>
> <dl>
> <dt>---------------------------------+</dt>
> <dd><p>ACCESS_CONTROL_FILE</p>
> </dd>
> <dt>---------------------------------+</dt>
> <dd><p>ADMIN_LOG_FILE</p>
> </dd>
> <dt>---------------------------------+</dt>
> <dd><p>MASTER_SHM_ID</p>
> </dd>
> </dl></td>
> <td><blockquote>
> <p>bool</p>
> </blockquote>
> <dl>
> <dt>--------+</dt>
> <dd><p>string</p>
> </dd>
> <dt>--------+</dt>
> <dd><p>string</p>
> </dd>
> <dt>--------+</dt>
> <dd><p>int</p>
> </dd>
> </dl></td>
> <td><blockquote>
> <p>no</p>
> </blockquote>
> <p>------------------------------+</p>
> <dl>
> <dt>------------------------------+</dt>
> <dd><p>log/broker/rye_broker.log</p>
> </dd>
> <dt>------------------------------+</dt>
> <dd><p>30,001</p>
> </dd>
> </dl></td>
> <td><p>-----------+</p>
> <p>-----------+</p>
> <p>-----------+</p></td>
> </tr>
> <tr class="even">
> <td><p>parameter-by-broker</p>
> <blockquote>
> <p>+</p>
> <p>+</p>
> <p>+</p>
> <p>+</p>
> <p>+</p>
> </blockquote></td>
> <td><blockquote>
> <dl>
> <dt>접속</dt>
> <dd><p>+</p>
> <p>+</p>
> <p>+</p>
> <p>+</p>
> <p>+</p>
> <p>+</p>
> <p>+</p>
> <p>+</p>
> <p>+</p>
> </dd>
> </dl>
> </blockquote>
> <dl>
> <dt>-------------------------+</dt>
> <dd><p>브로커 응용 서버(CAS)</p>
> <blockquote>
> <p>+</p>
> <p>+</p>
> <p>+</p>
> <p>+</p>
> <p>+</p>
> <p>+</p>
> <p>+</p>
> </blockquote>
> </dd>
> <dt>-------------------------+</dt>
> <dd><dl>
> <dt>트랜잭션 및 질의</dt>
> <dd><p>+</p>
> <p>+</p>
> <p>+</p>
> <p>+</p>
> <p>+</p>
> <p>+</p>
> <p>+</p>
> </dd>
> </dl>
> </dd>
> <dt>-------------------------+</dt>
> <dd><dl>
> <dt>로그</dt>
> <dd><p>+</p>
> <p>+</p>
> <p>+</p>
> <p>+</p>
> <p>+</p>
> <p>+</p>
> <p>+</p>
> <p>+</p>
> </dd>
> </dl>
> </dd>
> <dt>-------------------------+</dt>
> <dd><dl>
> <dt>샤드</dt>
> <dd><p>+</p>
> <p>+</p>
> <p>+</p>
> <p>+</p>
> <p>+</p>
> <p>+</p>
> <p>+</p>
> <p>+</p>
> <p>+</p>
> <p>+</p>
> <p>+</p>
> <p>+</p>
> <p>+</p>
> <p>+</p>
> <p>+</p>
> <p>+</p>
> <p>+</p>
> <p>+</p>
> </dd>
> </dl>
> </dd>
> <dt>-------------------------+</dt>
> <dd><dl>
> <dt>기타</dt>
> <dd><p>+</p>
> <p>+</p>
> </dd>
> </dl>
> </dd>
> </dl></td>
> <td><blockquote>
> <p>ACCESS_LIST</p>
> </blockquote>
> <dl>
> <dt>---------------------------------+</dt>
> <dd><p>ACCESS_MODE</p>
> </dd>
> <dt>---------------------------------+</dt>
> <dd><p>BROKER_PORT</p>
> </dd>
> <dt>---------------------------------+</dt>
> <dd><p>CONNECT_ORDER</p>
> </dd>
> <dt>---------------------------------+</dt>
> <dd><p>ENABLE_MONITOR_HANG</p>
> </dd>
> <dt>---------------------------------+</dt>
> <dd><p>KEEP_CONNECTION</p>
> </dd>
> <dt>---------------------------------+</dt>
> <dd><p>MAX_NUM_DELAYED_HOSTS_LOOKUP</p>
> </dd>
> <dt>---------------------------------+</dt>
> <dd><p>PREFERRED_HOSTS</p>
> </dd>
> <dt>---------------------------------+</dt>
> <dd><p>RECONNECT_TIME</p>
> </dd>
> <dt>---------------------------------+</dt>
> <dd><p>REPLICA_ONLY</p>
> </dd>
> <dt>---------------------------------+</dt>
> <dd><p>APPL_SERVER_MAX_SIZE</p>
> </dd>
> <dt>---------------------------------+</dt>
> <dd><p>APPL_SERVER_MAX_SIZE_HARD_LIMIT</p>
> </dd>
> <dt>---------------------------------+</dt>
> <dd><p>APPL_SERVER_PORT</p>
> </dd>
> <dt>---------------------------------+</dt>
> <dd><p>APPL_SERVER_SHM_ID</p>
> </dd>
> <dt>---------------------------------+</dt>
> <dd><p>AUTO_ADD_APPL_SERVER</p>
> </dd>
> <dt>---------------------------------+</dt>
> <dd><p>MAX_NUM_APPL_SERVER</p>
> </dd>
> <dt>---------------------------------+</dt>
> <dd><p>MIN_NUM_APPL_SERVER</p>
> </dd>
> <dt>---------------------------------+</dt>
> <dd><p>TIME_TO_KILL</p>
> </dd>
> <dt>---------------------------------+</dt>
> <dd><p>CCI_DEFAULT_AUTOCOMMIT</p>
> </dd>
> <dt>---------------------------------+</dt>
> <dd><p>LONG_QUERY_TIME</p>
> </dd>
> <dt>---------------------------------+</dt>
> <dd><p>LONG_TRANSACTION_TIME</p>
> </dd>
> <dt>---------------------------------+</dt>
> <dd><p>MAX_PREPARED_STMT_COUNT</p>
> </dd>
> <dt>---------------------------------+</dt>
> <dd><p>MAX_QUERY_TIMEOUT</p>
> </dd>
> <dt>---------------------------------+</dt>
> <dd><p>SESSION_TIMEOUT</p>
> </dd>
> <dt>---------------------------------+</dt>
> <dd><p>STATEMENT_POOLING</p>
> </dd>
> <dt>---------------------------------+</dt>
> <dd><p>TRIGGER_ACTION</p>
> </dd>
> <dt>---------------------------------+</dt>
> <dd><p>ACCESS_LOG</p>
> </dd>
> <dt>---------------------------------+</dt>
> <dd><p>ACCESS_LOG_DIR</p>
> </dd>
> <dt>---------------------------------+</dt>
> <dd><p>ACCESS_LOG_MAX_SIZE</p>
> </dd>
> <dt>---------------------------------+</dt>
> <dd><p>ERROR_LOG_DIR</p>
> </dd>
> <dt>---------------------------------+</dt>
> <dd><p>LOG_DIR</p>
> </dd>
> <dt>---------------------------------+</dt>
> <dd><p>SLOW_LOG</p>
> </dd>
> <dt>---------------------------------+</dt>
> <dd><p>SLOW_LOG_DIR</p>
> </dd>
> <dt>---------------------------------+</dt>
> <dd><p>SQL_LOG</p>
> </dd>
> <dt>---------------------------------+</dt>
> <dd><p>SQL_LOG_MAX_SIZE</p>
> </dd>
> <dt>---------------------------------+</dt>
> <dd><p>SHARD</p>
> </dd>
> <dt>---------------------------------+</dt>
> <dd><p>SHARD_CONNECTION_FILE</p>
> </dd>
> <dt>---------------------------------+</dt>
> <dd><p>SHARD_DB_NAME</p>
> </dd>
> <dt>---------------------------------+</dt>
> <dd><p>SHARD_DB_PASSWORD</p>
> </dd>
> <dt>---------------------------------+</dt>
> <dd><p>SHARD_DB_USER</p>
> </dd>
> <dt>---------------------------------+</dt>
> <dd><p>SHARD_IGNORE_HINT</p>
> </dd>
> <dt>---------------------------------+</dt>
> <dd><p>SHARD_KEY_FILE</p>
> </dd>
> <dt>---------------------------------+</dt>
> <dd><p>SHARD_KEY_FUNCTION_NAME</p>
> </dd>
> <dt>---------------------------------+</dt>
> <dd><p>SHARD_KEY_LIBRARY_NAME</p>
> </dd>
> <dt>---------------------------------+</dt>
> <dd><p>SHARD_KEY_MODULAR</p>
> </dd>
> <dt>---------------------------------+</dt>
> <dd><p>SHARD_MAX_CLIENTS</p>
> </dd>
> <dt>---------------------------------+</dt>
> <dd><p>SHARD_MAX_PREPARED_STMT_COUNT</p>
> </dd>
> <dt>---------------------------------+</dt>
> <dd><p>SHARD_NUM_PROXY</p>
> </dd>
> <dt>---------------------------------+</dt>
> <dd><p>SHARD_PROXY_CONN_WAIT_TIMEOUT</p>
> </dd>
> <dt>---------------------------------+</dt>
> <dd><p>SHARD_PROXY_LOG</p>
> </dd>
> <dt>---------------------------------+</dt>
> <dd><p>SHARD_PROXY_LOG_DIR</p>
> </dd>
> <dt>---------------------------------+</dt>
> <dd><p>SHARD_PROXY_LOG_MAX_SIZE</p>
> </dd>
> <dt>---------------------------------+</dt>
> <dd><p>SHARD_PROXY_SHM_ID</p>
> </dd>
> <dt>---------------------------------+</dt>
> <dd><p>SHARD_PROXY_TIMEOUT</p>
> </dd>
> <dt>---------------------------------+</dt>
> <dd><p>MAX_STRING_LENGTH</p>
> </dd>
> <dt>---------------------------------+</dt>
> <dd><p>SERVICE</p>
> </dd>
> <dt>---------------------------------+</dt>
> <dd><p>SOURCE_ENV</p>
> </dd>
> </dl></td>
> <td><blockquote>
> <p>string</p>
> </blockquote>
> <dl>
> <dt>--------+</dt>
> <dd><p>string</p>
> </dd>
> <dt>--------+</dt>
> <dd><p>int</p>
> </dd>
> <dt>--------+</dt>
> <dd><p>string</p>
> </dd>
> <dt>--------+</dt>
> <dd><p>string</p>
> </dd>
> <dt>--------+</dt>
> <dd><p>string</p>
> </dd>
> <dt>--------+</dt>
> <dd><p>int</p>
> </dd>
> <dt>--------+</dt>
> <dd><p>string</p>
> </dd>
> <dt>--------+</dt>
> <dd><p>sec</p>
> </dd>
> <dt>--------+</dt>
> <dd><p>string</p>
> </dd>
> <dt>--------+</dt>
> <dd><p>MB</p>
> </dd>
> <dt>--------+</dt>
> <dd><p>MB</p>
> </dd>
> <dt>--------+</dt>
> <dd><p>int</p>
> </dd>
> <dt>--------+</dt>
> <dd><p>int</p>
> </dd>
> <dt>--------+</dt>
> <dd><p>string</p>
> </dd>
> <dt>--------+</dt>
> <dd><p>int</p>
> </dd>
> <dt>--------+</dt>
> <dd><p>int</p>
> </dd>
> <dt>--------+</dt>
> <dd><p>sec</p>
> </dd>
> <dt>--------+</dt>
> <dd><p>string</p>
> </dd>
> <dt>--------+</dt>
> <dd><p>sec</p>
> </dd>
> <dt>--------+</dt>
> <dd><p>sec</p>
> </dd>
> <dt>--------+</dt>
> <dd><p>int</p>
> </dd>
> <dt>--------+</dt>
> <dd><p>sec</p>
> </dd>
> <dt>--------+</dt>
> <dd><p>sec</p>
> </dd>
> <dt>--------+</dt>
> <dd><p>string</p>
> </dd>
> <dt>--------+</dt>
> <dd><p>string</p>
> </dd>
> <dt>--------+</dt>
> <dd><p>string</p>
> </dd>
> <dt>--------+</dt>
> <dd><p>string</p>
> </dd>
> <dt>--------+</dt>
> <dd><p>KB</p>
> </dd>
> <dt>--------+</dt>
> <dd><p>string</p>
> </dd>
> <dt>--------+</dt>
> <dd><p>string</p>
> </dd>
> <dt>--------+</dt>
> <dd><p>string</p>
> </dd>
> <dt>--------+</dt>
> <dd><p>string</p>
> </dd>
> <dt>--------+</dt>
> <dd><p>string</p>
> </dd>
> <dt>--------+</dt>
> <dd><p>KB</p>
> </dd>
> <dt>--------+</dt>
> <dd><p>string</p>
> </dd>
> <dt>--------+</dt>
> <dd><p>string</p>
> </dd>
> <dt>--------+</dt>
> <dd><p>string</p>
> </dd>
> <dt>--------+</dt>
> <dd><p>string</p>
> </dd>
> <dt>--------+</dt>
> <dd><p>string</p>
> </dd>
> <dt>--------+</dt>
> <dd><p>string</p>
> </dd>
> <dt>--------+</dt>
> <dd><p>string</p>
> </dd>
> <dt>--------+</dt>
> <dd><p>string</p>
> </dd>
> <dt>--------+</dt>
> <dd><p>string</p>
> </dd>
> <dt>--------+</dt>
> <dd><p>int</p>
> </dd>
> <dt>--------+</dt>
> <dd><p>int</p>
> </dd>
> <dt>--------+</dt>
> <dd><p>int</p>
> </dd>
> <dt>--------+</dt>
> <dd><p>int</p>
> </dd>
> <dt>--------+</dt>
> <dd><p>sec</p>
> </dd>
> <dt>--------+</dt>
> <dd><p>string</p>
> </dd>
> <dt>--------+</dt>
> <dd><p>string</p>
> </dd>
> <dt>--------+</dt>
> <dd><p>KB</p>
> </dd>
> <dt>--------+</dt>
> <dd><p>int</p>
> </dd>
> <dt>--------+</dt>
> <dd><p>sec</p>
> </dd>
> <dt>--------+</dt>
> <dd><p>int</p>
> </dd>
> <dt>--------+</dt>
> <dd><p>string</p>
> </dd>
> <dt>--------+</dt>
> <dd><p>string</p>
> </dd>
> </dl></td>
> <td><dl>
> <dt>------------------------------+</dt>
> <dd><p>RW</p>
> </dd>
> <dt>------------------------------+</dt>
> <dd><p>30,000(최대값: 65,535)</p>
> </dd>
> <dt>------------------------------+</dt>
> <dd><p>SEQ</p>
> </dd>
> <dt>------------------------------+</dt>
> <dd><p>OFF</p>
> </dd>
> <dt>------------------------------+</dt>
> <dd><p>AUTO</p>
> </dd>
> <dt>------------------------------+</dt>
> <dd><p>-1</p>
> </dd>
> </dl>
> <p>------------------------------+</p>
> <dl>
> <dt>------------------------------+</dt>
> <dd><p>600</p>
> </dd>
> <dt>------------------------------+</dt>
> <dd><p>OFF</p>
> </dd>
> <dt>------------------------------+</dt>
> <dd><p>Windows 32비트: 40, Windows 64비트: 80, Linux: 0 (최대값: 2,097,151)</p>
> </dd>
> <dt>------------------------------+</dt>
> <dd><p>1,024(최대값: 2,097,151)</p>
> </dd>
> <dt>------------------------------+</dt>
> <dd><p>BROKER_PORT+1</p>
> </dd>
> <dt>------------------------------+</dt>
> <dd><p>30,000</p>
> </dd>
> <dt>------------------------------+</dt>
> <dd><p>ON</p>
> </dd>
> <dt>------------------------------+</dt>
> <dd><p>40</p>
> </dd>
> <dt>------------------------------+</dt>
> <dd><p>5</p>
> </dd>
> <dt>------------------------------+</dt>
> <dd><p>120</p>
> </dd>
> <dt>------------------------------+</dt>
> <dd><p>ON</p>
> </dd>
> <dt>------------------------------+</dt>
> <dd><p>60(최대값: 86,400)</p>
> </dd>
> <dt>------------------------------+</dt>
> <dd><p>60(최대값: 86,400)</p>
> </dd>
> <dt>------------------------------+</dt>
> <dd><p>2,000(최소값: 1)</p>
> </dd>
> <dt>------------------------------+</dt>
> <dd><p>0(최대값: 86,400)</p>
> </dd>
> <dt>------------------------------+</dt>
> <dd><p>300</p>
> </dd>
> <dt>------------------------------+</dt>
> <dd><p>ON</p>
> </dd>
> <dt>------------------------------+</dt>
> <dd><p>ON</p>
> </dd>
> <dt>------------------------------+</dt>
> <dd><p>OFF</p>
> </dd>
> <dt>------------------------------+</dt>
> <dd><p>log/broker</p>
> </dd>
> <dt>------------------------------+</dt>
> <dd><p>10M(최대값: 2G)</p>
> </dd>
> <dt>------------------------------+</dt>
> <dd><p>log/broker/error_log</p>
> </dd>
> <dt>------------------------------+</dt>
> <dd><p>log/broker/sql_log</p>
> </dd>
> <dt>------------------------------+</dt>
> <dd><p>ON</p>
> </dd>
> <dt>------------------------------+</dt>
> <dd><p>log/broker/sql_log</p>
> </dd>
> <dt>------------------------------+</dt>
> <dd><p>ON</p>
> </dd>
> <dt>------------------------------+</dt>
> <dd><p>10000</p>
> </dd>
> <dt>------------------------------+</dt>
> <dd><p>OFF</p>
> </dd>
> <dt>------------------------------+</dt>
> <dd><p>shard_connection.txt</p>
> </dd>
> </dl>
> <p>------------------------------+</p>
> <p>------------------------------+</p>
> <p>------------------------------+</p>
> <dl>
> <dt>------------------------------+</dt>
> <dd><p>OFF</p>
> </dd>
> <dt>------------------------------+</dt>
> <dd><p>shard_key.txt</p>
> </dd>
> </dl>
> <p>------------------------------+</p>
> <p>------------------------------+</p>
> <dl>
> <dt>------------------------------+</dt>
> <dd><p>256</p>
> </dd>
> <dt>------------------------------+</dt>
> <dd><p>256</p>
> </dd>
> <dt>------------------------------+</dt>
> <dd><p>10,000</p>
> </dd>
> <dt>------------------------------+</dt>
> <dd><p>1</p>
> </dd>
> <dt>------------------------------+</dt>
> <dd><p>8h</p>
> </dd>
> <dt>------------------------------+</dt>
> <dd><p>ERROR</p>
> </dd>
> <dt>------------------------------+</dt>
> <dd><p>log/broker/proxy_log</p>
> </dd>
> <dt>------------------------------+</dt>
> <dd><p>100,000</p>
> </dd>
> </dl>
> <p>------------------------------+</p>
> <dl>
> <dt>------------------------------+</dt>
> <dd><p>30(초)</p>
> </dd>
> <dt>------------------------------+</dt>
> <dd><p>-1</p>
> </dd>
> <dt>------------------------------+</dt>
> <dd><p>ON</p>
> </dd>
> <dt>------------------------------+</dt>
> <dd><p>rye.env</p>
> </dd>
> </dl></td>
> <td><dl>
> <dt>-----------+</dt>
> <dd><p>가능</p>
> </dd>
> </dl>
> <p>-----------+</p>
> <dl>
> <dt>-----------+</dt>
> <dd><p>가능</p>
> </dd>
> </dl>
> <p>-----------+</p>
> <dl>
> <dt>-----------+</dt>
> <dd><p>가능</p>
> </dd>
> </dl>
> <p>-----------+</p>
> <dl>
> <dt>-----------+</dt>
> <dd><p>가능</p>
> </dd>
> <dt>-----------+</dt>
> <dd><p>가능</p>
> </dd>
> </dl>
> <p>-----------+</p>
> <dl>
> <dt>-----------+</dt>
> <dd><p>가능</p>
> </dd>
> <dt>-----------+</dt>
> <dd><p>가능</p>
> </dd>
> </dl>
> <p>-----------+</p>
> <p>-----------+</p>
> <p>-----------+</p>
> <p>-----------+</p>
> <p>-----------+</p>
> <dl>
> <dt>-----------+</dt>
> <dd><p>가능</p>
> </dd>
> </dl>
> <p>-----------+</p>
> <dl>
> <dt>-----------+</dt>
> <dd><p>가능</p>
> </dd>
> <dt>-----------+</dt>
> <dd><p>가능</p>
> </dd>
> <dt>-----------+</dt>
> <dd><p>가능</p>
> </dd>
> <dt>-----------+</dt>
> <dd><p>가능</p>
> </dd>
> <dt>-----------+</dt>
> <dd><p>가능</p>
> </dd>
> <dt>-----------+</dt>
> <dd><p>가능</p>
> </dd>
> <dt>-----------+</dt>
> <dd><p>가능</p>
> </dd>
> <dt>-----------+</dt>
> <dd><p>가능</p>
> </dd>
> </dl>
> <p>-----------+</p>
> <dl>
> <dt>-----------+</dt>
> <dd><p>가능</p>
> </dd>
> <dt>-----------+</dt>
> <dd><p>가능</p>
> </dd>
> <dt>-----------+</dt>
> <dd><p>가능</p>
> </dd>
> <dt>-----------+</dt>
> <dd><p>가능</p>
> </dd>
> <dt>-----------+</dt>
> <dd><p>가능</p>
> </dd>
> <dt>-----------+</dt>
> <dd><p>가능</p>
> </dd>
> <dt>-----------+</dt>
> <dd><p>가능</p>
> </dd>
> </dl>
> <p>-----------+</p>
> <p>-----------+</p>
> <p>-----------+</p>
> <p>-----------+</p>
> <p>-----------+</p>
> <p>-----------+</p>
> <p>-----------+</p>
> <p>-----------+</p>
> <p>-----------+</p>
> <p>-----------+</p>
> <p>-----------+</p>
> <p>-----------+</p>
> <p>-----------+</p>
> <p>-----------+</p>
> <dl>
> <dt>-----------+</dt>
> <dd><p>가능</p>
> </dd>
> </dl>
> <p>-----------+</p>
> <dl>
> <dt>-----------+</dt>
> <dd><p>가능</p>
> </dd>
> </dl>
> <p>-----------+</p>
> <p>-----------+</p>
> <p>-----------+</p>
> <p>-----------+</p>
> <p>-----------+</p></td>
> </tr>
> </tbody>
> </table>
>
**기본 제공 파라미터**

> Rye 설치 시 생성되는 기본 브로커 설정 파일인 **rye\_broker.conf** 에는 브로커 파라미터 중에서 반드시 변경해야 할 일부 파라미터가 기본으로 포함된다. 기본으로 포함되지 않는 파라미터의 설정값을 변경하기 원할 경우 직접 추가/편집해서 사용하면 된다.
>
> 다음은 설치 시 기본으로 제공되는 **rye\_broker.conf** 파일 내용이다. :
>
>     [broker]
>     MASTER_SHM_ID           =30001
>     ADMIN_LOG_FILE          =log/broker/rye_broker.log
>
>     [%query_editor]
>     SERVICE                 =ON
>     BROKER_PORT             =30000
>     MIN_NUM_APPL_SERVER     =5
>     MAX_NUM_APPL_SERVER     =40
>     APPL_SERVER_SHM_ID      =30000
>     LOG_DIR                 =log/broker/sql_log
>     ERROR_LOG_DIR           =log/broker/error_log
>     SQL_LOG                 =ON
>     TIME_TO_KILL            =120
>     SESSION_TIMEOUT         =300
>     KEEP_CONNECTION         =AUTO
>
>     [%BROKER1]
>     SERVICE                 =ON
>     BROKER_PORT             =33000
>     MIN_NUM_APPL_SERVER     =5
>     MAX_NUM_APPL_SERVER     =40
>     APPL_SERVER_SHM_ID      =33000
>     LOG_DIR                 =log/broker/sql_log
>     ERROR_LOG_DIR           =log/broker/error_log
>     SQL_LOG                 =ON
>     TIME_TO_KILL            =120
>     SESSION_TIMEOUT         =300
>     KEEP_CONNECTION         =AUTO

**브로커 설정 파일 관련 환경 변수**

> **Rye\_BROKER\_CONF\_FILE** 환경 변수를 사용하여 **rye\_broker.conf** 파일의 위치를 지정할 수 있다. 서로 다른 구성으로 여러 개의 브로커를 실행할 때 사용한다.

### 공통 적용 파라미터

다음은 브로커 전체에 공통으로 적용되는 파라미터로 \[broker\] 아래에 작성된다.

#### 접속

**ACCESS\_CONTROL**

> **ACCESS\_CONTROL**은 브로커에 접속하는 응용 클라이언트를 제한하기 위한 파라미터이다. 기본값은 **OFF**이다. 자세한 내용은 limiting-broker-access을 참고한다.

**ACCESS\_CONTROL\_FILE**

> **ACCESS\_CONTROL\_FILE**은 브로커에 접속을 허용하는 데이터베이스 이름, 데이터베이스 사용자 ID, IP 목록을 저장한 파일 이름을 지정하는 파라미터이다. IP 목록은 하나의 브로커 내에서 &lt;*db\_name*&gt;:&lt;*db\_user*&gt; 별로 최대 256 라인까지 작성될 수 있다. 자세한 내용은 limiting-broker-access을 참고한다.

#### 로그

**ADMIN\_LOG\_FILE**

> **ADMIN\_LOG\_FILE**은 Rye 브로커의 구동에 관한 시간 기록을 저장하는 파일을 지정하기 위한 파라미터이다. 기본값은 **log/broker/rye\_broker.log** 파일이다.

#### 브로커 서버(cub\_broker)

**MASTER\_SHM\_ID**

> **MASTER\_SHM\_ID**는 Rye 브로커를 관리하기 위해 사용되는 공유 메모리의 ID를 설정하는 파라미터로, 이 값은 시스템 내에서 유일한 값이어야 한다. 기본값은 **30,001**로 설정된다.

### 브로커별 파라미터

다음은 브로커에 개별적으로 적용되는 파라미터로 *\[%broker\_name\]* 아래에 각각 작성된다. *broker\_name*의 최대 길이는 영문 63자이다.

#### 접속

**ACCESS\_LIST**

> **ACCESS\_LIST**는 Rye 브로커로 접근을 허용하는 응용 클라이언트의 IP 주소 리스트를 저장할 파일 이름을 지정하는 파라미터이다. 210.192.33.*와 210.194.34.*인 IP 주소의 접근을 허용하려면 이를 임의의 파일(ip\_lists.txt)에 저장하여 이 파라미터의 값으로 파일명을 설정한다.

**ACCESS\_MODE**

> **ACCESS\_MODE**는 브로커의 모드를 설정하는 파라미터로 기본값은 **RW**이다. 자세한 내용은 ha-rye-broker-conf 를 참고한다.

**BROKER\_PORT**

> **BROKER\_PORT**는 해당 브로커의 포트 번호를 지정하기 위한 파라미터로 시스템 내에서 유일한 값이면서 65,535 이하의 값이어야 한다. **query\_editor** 의 브로커 포트는 기본값이 **30,000** 으로 설정되며, **broker1** 의 브로커 포트는 기본값이 **33,000** 으로 설정된다.

**CONNECT\_ORDER**

> CAS가 연결할 호스트 순서를 결정할 때 **$Rye\_DATABASES/databases.txt**에 설정된 호스트에서 순서대로 연결을 시도할지 랜덤한 순서대로 연결을 시도할지를 지정하는 파라미터이다. 기본값은 **SEQ**이며 순서대로 연결을 시도한다. 이 값이 **RANDOM**이면 랜덤한 순서대로 연결을 시도한다. **PREFERRED\_HOSTS** 파라미터 값이 명시되어 있으면 먼저 **PREFERRED\_HOSTS**에 명시된 호스트의 순서대로 연결을 시도한 후 실패할 경우에만 **$Rye\_DATABASES/databases.txt**의 설정 값을 사용한다.

**ENABLE\_MONITOR\_HANG**

> **ENABLE\_MONITOR\_HANG**은 일정 비율 이상의 CAS가 멈춘(hang) 것으로 판단되면 응용 프로그램이 해당 브로커로의 접속을 차단할 것인지 지정하는 파라미터이다. 이 값이 ON이면 해당 기능을 수행한다. 기본값은 OFF로, 해당 기능을 수행하지 않는다. 브로커 프로세스는 CAS의 멈춤(hang)이 1분 이상 지속되는 경우 CAS를 멈춘(hang) 상태로 판단하고, 해당 CAS의 개수에 따라 해당 브로커 프로세스가 비정상으로 판단되면 정상화되기 전까지 해당 브로커로 접속을 시도하는 응용 프로그램을 차단하여, 접속 URL에 설정한 대체 호스트(altHosts)로의 접속을 유도한다.

**KEEP\_CONNECTION**

> **KEEP\_CONNECTION**은 CAS와 응용 클라이언트 사이의 연결 방식을 지정하는 파라미터로 **ON** / **AUTO** 중 하나로 설정된다. 이 파라미터가 **ON** 으로 설정되면 커넥션 단위로 CAS와 연결한다. 또한 **AUTO**로 설정되면 CAS의 개수가 클라이언트 개수보다 많은 경우 커넥션 단위로 연결하고, CAS의 개수가 클라이언트의 개수보다 적은 경우 트랜잭션 단위로 연결한다. 기본값은 **AUTO**이다.

**MAX\_NUM\_DELAYED\_HOSTS\_LOOKUP**

> databases.txt의 db-host에 여러 대의 DB 서버를 명시한 HA 환경에서 거의 모든 DB 서버에서 복제 지연이 발생하는 경우, **MAX\_NUM\_DELAYED\_HOSTS\_LOOKUP** 파라미터에서 명시한 대수의 복제 지연 서버까지만 연결 여부를 검토한 후 연결을 결정한다(어떤 DB 서버의 복제 지연 여부는 standby 상태의 호스트만을 대상으로 판단하며, ha\_delay\_limit &lt;ha\_delay\_limit&gt; 파라미터의 설정에 따라 결정됨). 보다 자세한 사항은 MAX\_NUM\_DELAYED\_HOSTS\_LOOKUP &lt;MAX\_NUM\_DELAYED\_HOSTS\_LOOKUP&gt;을 참고한다.

**PREFERRED\_HOSTS**

> **PREFERRED\_HOSTS**는 CAS가 우선적으로 연결할 호스트 순서를 지정하는 파라미터이다. **PREFERRED\_HOSTS**에 설정된 호스트 순서대로 연결을 시도했으나 실패하는 경우 **$Rye\_DATABASES/databases.txt**에 설정된 호스트 순서대로 연결을 시도한다. 기본값은 **NULL**이다. 자세한 내용은 ha-rye-broker-conf 를 참고한다.

**RECONNECT\_TIME**

> 특정 상황에서 **RECONNECT\_TIME**으로 명시한 시간이 경과하면 CAS가 다른 DB 서버에 재연결을 시도한다. 기본값은 600s(10min)이다. 값 뒤에 ms, s, min, h의 단위 지정이 가능하며, 각각 milliseconds, seconds, minutes, hours를 의미한다. 단위가 생략되면 s로 지정된다.
>
> CAS가 서버에 재연결을 시도하는 특정 상황은 다음과 같다.
>
> -   CAS가 **PREFERRED\_HOSTS**에 명시한 DB 서버가 아닌 databases.txt의 db-host에 명시한 DB 서버에 연결한 경우
> -   "ACCESS\_MODE=RO"(Read Only)인 CAS가 standby DB 서버가 아닌 active DB 서버에 연결한 경우
> -   CAS가 복제 지연 상태인 DB 서버와 연결한 경우
>
> **RECONNECT\_TIME** 값이 0이면 재연결을 시도하지 않는다.

**REPLICA\_ONLY**

> **REPLICA\_ONLY**의 값이 **ON**이면 CAS가 레플리카에만 접속된다. 기본값은 **OFF**이다. **REPLICA\_ONLY**의 값이 **ON**이더라도 **ACCESS\_MODE**의 값이 **RW**이면 레플리카 DB에 직접 접속하여 쓰기 작업을 수행할 수 있다. 단, 레플리카에 직접 쓰는 데이터는 복제되지 않는다.
>
> 레플리카에 직접 데이터를 쓰는 경우 복제 불일치가 발생함에 주의해야 한다.
>
#### 브로커 응용 서버(CAS)

**APPL\_SERVER\_MAX\_SIZE**

> **APPL\_SERVER\_MAX\_SIZE**는 CAS가 처리하는 프로세스 메모리 사용량의 최대 크기를 지정하는 파라미터이다. 값 뒤에 B, K, M, G로 단위를 붙일 수 있으며, 각각 Bytes, Kilobytes, Megabytes, Gigabytes를 의미한다. 단위 생략 시 M으로 지정된다.
>
> 이 파라미터는 진행 중인 트랜잭션이 있을 경우 사용자에 의해 정상 종료(커밋 혹은 롤백)되기를 기다렸다가 CAS를 재구동하는 동작에 영향을 준다. **APPL\_SERVER\_MAX\_SIZE\_HARD\_LIMIT**는 **APPL\_SERVER\_MAX\_SIZE**와 비슷하지만, 진행 중인 트랜잭션이 있을 경우 이를 강제 종료(롤백)하고 CAS를 재구동하는 동작에 영향을 준다는 점이 다르다.
>
> **APPL\_SERVER\_MAX\_SIZE** 파라미터는 Windows 버전과 Linux 버전의 기본값이 다르므로 주의한다.
>
> Windows 버전의 Rye는 32비트 버전에서는 **APPL\_SERVER\_MAX\_SIZE** 의 기본값이 **40** (MB)이고, 64비트 버전에서는 **80** (MB)이다. 최대값은 Windows 버전과 Linux 버전 모두 동일하며 2,097,151 (MB)이다. 현재 프로세스의 크기가 **APPL\_SERVER\_MAX\_SIZE** 의 값을 초과하면, 브로커가 해당 CAS를 재구동한다.
>
> Linux 버전의 Rye는 **APPL\_SERVER\_MAX\_SIZE** 의 기본값이 **0**이고, 다음의 경우에 해당 CAS를 재구동한다.
>
> -   **APPL\_SERVER\_MAX\_SIZE** 의 값이 0 또는 음수인 경우: 현재 프로세스의 크기가 CAS의 초기 메모리의 2배가 될 때
> -   **APPL\_SERVER\_MAX\_SIZE** 의 값이 양수인 경우: **APPL\_SERVER\_MAX\_SIZE** 의 설정 값을 초과할 때
>
> 이 값을 너무 작게 설정하면 CAS가 빈번하게 재구동될 수 있으므로 주의한다. 일반적으로 **APPL\_SERVER\_MAX\_SIZE\_HARD\_LIMIT** 의 값을 **APPL\_SERVER\_MAX\_SIZE** 의 값보다 크게 설정한다. 자세한 내용은 **APPL\_SERVER\_MAX\_SIZE\_HARD\_LIMIT** 의 설명을 참고한다.
>
**APPL\_SERVER\_MAX\_SIZE\_HARD\_LIMIT**

> **APPL\_SERVER\_MAX\_SIZE\_HARD\_LIMIT**는 CAS가 처리하는 프로세스 메모리 사용량의 최대 크기를 지정하는 파라미터이다. 값 뒤에 B, K, M, G로 단위를 붙일 수 있으며, 각각 Bytes, Kilobytes, Megabytes, Gigabytes를 의미한다. 단위 생략 시 M으로 지정된다. 기본값은 **1,024** (MB)이며, 최대값은 2,097,151 (MB)이다.
>
> 이 파라미터는 진행 중인 트랜잭션이 있어도 이를 강제 종료(롤백)하고 CAS를 재구동하는 동작에 영향을 준다. **APPL\_SERVER\_MAX\_SIZE**는 **APPL\_SERVER\_MAX\_SIZE\_HARD\_LIMIT**와 비슷하지만, 진행 중인 트랜잭션이 있을 경우 사용자에 의해 정상 종료(커밋 혹은 롤백)되기를 기다렸다가 CAS를 재구동하는 동작에 영향을 준다는 점이 다르다.
>
> 이 값을 너무 작게 설정하면 CAS가 빈번하게 재구동될 수 있으므로 주의한다. CAS를 재구동할 때 메모리 사용량이 증가해도 트랜잭션이 정상 종료되기까지 기다리기 위해 **APPL\_SERVER\_MAX\_SIZE**를 설정하고, 메모리 사용량이 허용하는 기준을 넘으면 트랜잭션을 강제 종료하기 위해 **APPL\_SERVER\_MAX\_SIZE\_HARD\_LIMIT**를 설정한다. 따라서, 일반적으로 **APPL\_SERVER\_MAX\_SIZE\_HARD\_LIMIT** 의 값을 **APPL\_SERVER\_MAX\_SIZE** 의 값보다 크게 설정한다.
>
**APPL\_SERVER\_PORT**

> **APPL\_SERVER\_PORT**는 Windows 운영체제에서만 추가하는 파라미터로 응용 클라이언트와 통신하는 CAS의 통신 포트를 지정하는 파라미터이다. Linux 운영체제에서는 응용 클라이언트와 CAS가 통신하기 위해 유닉스 도메인 소켓(unix domain socket)을 사용하므로, **APPL\_SERVER\_PORT** 가 사용되지 않는다. 기본값은 **BROKER\_PORT** 파라미터 값에 1을 더한 값으로 설정되며, 지정한 번호의 포트부터 1씩 더한 번호의 포트들이 CAS의 개수만큼 사용된다. 예를 들어, **BROKER\_PORT** 의 값이 30,000이고 **APPL\_SERVER\_PORT** 의 값을 설정하지 않은 상태에서 **MIN\_NUM\_APPL\_SERVER** 의 값이 5이면 브로커 초기 구동 시 5개의 CAS가 각각 30,001~30,005의 포트를 사용한다. 같은 조건이고 **APPL\_SERVER\_PORT** 의 값만 35,000라면 브로커 초기 구동 시 5개의 CAS가 각각 35,000~35,004의 포트를 사용한다.
>
> CAS의 최대 개수가 **rye\_broker\_conf** 의 **MAX\_NUM\_APPL\_SERVER** 파라미터에 의해 제한되므로 설정할 수 있는 CAS의 통신 포트의 개수 역시 최대 **MAX\_NUM\_APPL\_SERVER** 파라미터의 설정값으로 제한된다.
>
> Windows 운영체제에서 응용 클라이언트와 Rye 브로커 사이에 방화벽이 존재한다면 반드시 **BROKER\_PORT** 및 **APPL\_SERVER\_PORT** 에서 설정된 통신 포트를 열어야 한다.
>
> cub\_master, cub\_broker 프로세스의 유닉스 도메인 소켓 파일 경로를 지정하는 **Rye\_TMP** 환경 변수에 대한 내용은 /env 을 참고한다.
>
**APPL\_SERVER\_SHM\_ID**

> **APPL\_SERVER\_SHM\_ID**는 CAS가 이용하는 공유 메모리 ID를 지정하기 위한 파라미터로 시스템 내에서 유일한 값이어야 한다. 기본값은 해당 브로커의 포트와 동일한 값이다.

**AUTO\_ADD\_APPL\_SERVER**

> **AUTO\_ADD\_APPL\_SERVER**는 필요한 경우 CAS를 **MAX\_NUM\_APPL\_SERVER** 값까지 자동으로 증가시킬지 설정하는 파라미터로 ON과 OFF를 가지며, 기본값은 **ON**이다.

**MAX\_NUM\_APPL\_SERVER**

> **MAX\_NUM\_APPL\_SERVER**는 해당 브로커에 동시 접속할 수 있는 CAS의 최대 개수를 설정하는 파라미터로, 기본값은 **40**이다.

**MIN\_NUM\_APPL\_SERVER**

> **MIN\_NUM\_APPL\_SERVER**는 해당 브로커에 대한 연결 요청이 없더라도 기본적으로 대기하고 있는 CAS 프로세스의 최소 개수를 설정하는 파라미터로, 기본값은 **5**이다.

**TIME\_TO\_KILL**

> **TIME\_TO\_KILL**은 자동 추가된 CAS 중 유휴 상태의 CAS를 제거하기 위한 기준 시간을 설정하는 파라미터이다. 값 뒤에 ms, s, min, h의 단위 지정이 가능하며, 각각 milliseconds, seconds, minutes, hours를 의미한다. 단위가 생략되면 s로 지정되며, 기본값은 **120**s이다.
>
> 유휴 상태(idle)란 작업이 없이 쉬고 있는 상태로, 이 상태가 **TIME\_TO\_KILL** 시간 이상 유지되면 해당 CAS를 제거한다.
>
> 이 파라미터에 설정된 값은 자동 추가된 CAS에만 적용되므로 **AUTO\_ADD\_APPL\_SERVER** 파라미터가 **ON** 인 경우에만 적용된다. **TIME\_TO\_KILL** 파라미터의 값을 너무 작게 설정하면 CAS의 제거/추가가 너무 빈번하게 발생할 수 있으므로 주의한다.

#### 트랜잭션 및 질의

**CCI\_DEFAULT\_AUTOCOMMIT**

> **CCI\_DEFAULT\_AUTOCOMMIT**은 CCI 인터페이스 또는 CCI기반 인터페이스(PHP, OLE DB, Perl, Python, Ruby 등)로 개발된 응용 프로그램의 자동 커밋 여부를 설정하는 파라미터로 기본값은 **ON**이다. 이 파라미터는 JDBC로 개발된 응용 프로그램에는 영향을 끼치지 않는다.
>
> **CCI\_DEFAULT\_AUTOCOMMIT** 파라미터의 값이 OFF인 경우 트랜잭션이 종료될 때까지 브로커 응용 서버(CAS) 프로세스를 점유한 상태가 되므로, **SELECT** 문 수행 시에도 fetch 완료 후 반드시 커밋을 수행할 것을 권장한다.
>
> **CCI\_DEFAULT\_AUTOCOMMIT** 파라미터는 2008 R4.0부터 지원하기 시작했고, 이 때 기본값은 OFF였다. **CCI\_DEFAULT\_AUTOCOMMIT**을 설정하지 않은 2008 R4.0 혹은 그 이전 버전 사용자는 자동 커밋 모드가 OFF이므로, 2008 R4.1 이상 버전으로 업그레이드한 사용자가 기존 응용 프로그램을 그대로 사용하고자 하는 경우, 이 값을 OFF로 설정해야 의도하지 않은 트랜잭션의 자동 커밋을 방지할 수 있다.
>
> ODBC 드라이버는 **CCI\_DEFAULT\_AUTOCOMMIT**의 설정이 무시되어 항상 ON인 상태로 동작하므로, 프로그램에서 자동 커밋 여부를 직접 설정해야 한다.
>
**LONG\_QUERY\_TIME**

> **LONG\_QUERY\_TIME**은 장기 실행 질의(long-duration query)로 판단될 질의 실행 시간을 설정하는 파라미터이다. 값 뒤에 ms, s, min, h의 단위 지정이 가능하며, 각각 milliseconds, seconds, minutes, hours를 의미한다. 단위가 생략되면 s로 지정된다. 기본값은 **60** (초)이고, 최대값은 86,400(하루)이다.
>
> 소수점을 사용하여 밀리초(msec) 단위의 값을 설정할 수 있다. 예를 들어 500밀리초로 설정하려면 값을 0.5로 설정한다.
>
> 파라미터 값을 0으로 설정하면 장기 실행 질의를 판단하지 않는다.

**LONG\_TRANSACTION\_TIME**

> **LONG\_TRANSACTION\_TIME**은 장기 실행 트랜잭션(long-duration transaction)으로 판단될 트랜잭션의 실행 시간을 설정하는 파라미터이다. 값 뒤에 ms, s, min, h의 단위 지정이 가능하며, 각각 milliseconds, seconds, minutes, hours를 의미한다. 단위가 생략되면 s로 지정된다. 기본값은 **60** (초)이고, 최대값은 86,400(하루)이다.
>
> 소수점을 사용하여 밀리초(msec) 단위의 값을 설정할 수 있다. 예를 들어 값을 0.5로 설정하여 500밀리초로 설정할 수 있다.
>
> 파라미터 값을 0으로 설정하면 장기 실행 트랜잭션을 판단하지 않는다.

**MAX\_PREPARED\_STMT\_COUNT**

> **MAX\_PREPARED\_STMT\_COUNT**은 사용자(응용 프로그램) 접속 당 허용하는 prepared statement의 개수를 제한하는 파라미터이다. 기본값은 **2,000**이며 최소값은 1이다. 이 파라미터 값을 사용자가 적절히 지정함으로써, 응용 프로그램의 작성 실수로 인해 시스템이 허용하는 메모리를 초과하여 prepared statement 문을 생성하는 것을 사전에 방지할 수 있다.
>
> **broker\_changer** 명령을 이용하여 **MAX\_PREPARED\_STMT\_COUNT**의 값을 동적으로 변경하고자 하는 경우 이전의 설정 값보다 큰 값으로 설정하는 경우만 허용하며, 이전의 설정 값보다 작은 값으로 설정하는 것은 허용하지 않는다.
>
**MAX\_QUERY\_TIMEOUT**

> **MAX\_QUERY\_TIMEOUT**은 질의 수행의 타임아웃을 설정하는 브로커 파라미터로, 질의 수행을 시작한 후 지정 시간을 초과하면 수행하던 질의를 멈추고 롤백한다. 값 뒤에 ms, s, min, h의 단위 지정이 가능하며, 각각 milliseconds, seconds, minutes, hours를 의미한다. 단위가 생략되면 s로 지정된다. 기본값은 **0**이며, 무한 대기를 의미한다. 값의 범위는 0부터 86400초(1일)까지이다.
>
> 응용 프로그램에서 질의 타임아웃을 설정한 경우, 0을 제외하고 **MAX\_QUERY\_TIMEOUT** 값과 응용 프로그램의 질의 타임아웃 값 중 작은 값을 적용한다.
>
> CCI 응용 프로그램의 질의 타임아웃 설정은 :ccci\_connect\_with\_url 함수, :ccci\_set\_query\_timeout 함수를 참고하며, JDBC 응용 프로그램의 질의 타임아웃 설정은 **setQueryTimeout** 메서드를 참고한다.
>
**SESSION\_TIMEOUT**

> **SESSION\_TIMEOUT**은 응용 클라이언트에 대한 CAS의 세션 타임 아웃 값을 설정하는 파라미터이다. 값 뒤에 ms, s, min, h의 단위 지정이 가능하며, 각각 milliseconds, seconds, minutes, hours를 의미한다. 단위가 생략되면 s로 지정된다. 기본값은 **300** (초)이다.
>
> 트랜잭션 시작 이후 커밋 혹은 롤백하지 않은 채로 아무런 요청이 없는 상태에서 이 파라미터가 설정한 시간을 초과하면 해당 응용 클라이언트와 CAS 간의 접속이 종료된다.

**STATEMENT\_POOLING**

> **STATEMENT\_POOLING**은 statement 풀링 기능의 사용 여부를 설정하는 파라미터로 기본값은 **ON**이다.
>
> Rye는 트랜잭션이 커밋 또는 롤백되는 경우, 해당 클라이언트 세션에 존재하는 prepared statement의 핸들을 모두 close하는데, **STATEMENT\_POOLING** 의 값이 **ON** 인 경우에는 prepared statement의 핸들을 지속적으로 풀에 유지하므로 이를 재사용할 수 있다. 따라서, prepared statement를 재사용하는 일반 응용 프로그램 또는 statement pooling이 구현된 DBCP와 같은 라이브러리가 적용된 환경에서는 반드시 기본 설정(**ON**)을 유지해야 한다.
>
> **STATEMENT\_POOLING** 의 값이 **OFF** 인 상태에서 트랜잭션 커밋 또는 종료 이후 해당 prepared statement를 실행하면 다음과 같은 메시지가 출력된다. :
>
>     Caused by: rye.jdbc.driver.RyeException: Attempt to access a closed Statement.

**TRIGGER\_ACTION**

> 이 파라미터를 지정한 브로커에 대해 트리거의 동작을 켜거나 끈다. ON 또는 OFF로 값을 지정하며, 기본값은 **ON**이다.

#### 로그

**ACCESS\_LOG**

> **ACCESS\_LOG**는 해당 브로커의 접속 로그를 저장할 것인지 지정하는 파라미터로 기본값은 **OFF**이다. 브로커 접속 로그 파일명은 *broker\_name***.access**이고, **$Rye/log/broker** 디렉터리에 저장된다.

**ACCESS\_LOG\_DIR**

> **ACCESS\_LOG\_DIR**은 브로커 접속 로그(ACCESS\_LOG) 파일이 생성되는 디렉토리를 지정한다. 기본값은 **log/broker**이다.

**ACCESS\_LOG\_MAX\_SIZE**

> **ACCESS\_LOG\_MAX\_SIZE**는 브로커 접속 로그(ACCESS\_LOG) 파일의 최대 크기를 지정하며, 브로커 접속 로그 파일이 지정한 크기보다 커지면 *broker\_name***.access.***YYYYMMDDHHMISS* 형식의 이름으로 백업된 후 새 파일(broker\_name.**access**)에 로그가 기록된다. 기본값은 10M 이고, 최대 2G로 설정할 수 있으며, 브로커 구동중 동적으로 변경이 가능하다.

**ERROR\_LOG\_DIR**

> **ERROR\_LOG\_DIR**은 브로커에 대한 에러 로그가 저장되는 디렉터리를 지정하는 파라미터로, 기본값은 **log/broker/error\_log**이다. 브로커 에러 로그 파일명은 *broker\_ name\_id.err*이다.

**LOG\_DIR**

> **LOG\_DIR**은 SQL 로그가 저장되는 디렉터리를 지정하는 파라미터로, 기본값은 **log/broker/sql\_log**이다. SQL 로그가 기록되는 파일명은 *broker\_name\_id.sql.log*이다.

**SLOW\_LOG**

> SLOW SQL 로깅 여부를 지정하는 파라미터이다. 기본값은 **ON**이다. 이 값이 **ON**이면 **LONG\_QUERY\_TIME** 시간을 초과한 장기 실행(long-duration query) 질의문 또는 에러가 발생한 질의문이 SLOW SQL 로그 파일에 저장된다. 생성되는 파일의 이름은 *broker\_name\_id.slow.log*이며, **SLOW\_LOG\_DIR** 이하에 생성된다.

**SLOW\_LOG\_DIR**

> SLOW SQL 로그 파일이 생성되는 디렉터리를 지정한다. 기본값은 **log/broker/sql\_log**이다.

**SQL\_LOG**

> **SQL\_LOG**는 응용 클라이언트의 요청에 따라 CAS가 처리한 SQL 문에 대해 어떤 로그를 기록할 것인지 결정하는 파라미터로 기본값은 **ON**이다. 이 파라미터가 **ON** 으로 설정되면, 모든 로그를 기록한다. SQL 로그가 기록되는 파일명은 *broker\_name\_id.sql.log*이며, 설치 디렉터리의 **log/broker/sql\_log** 디렉터리에 생성된다. 파라미터 값은 다음과 같다.
>
> -   **OFF** : 모든 로그를 기록하지 않음
> -   **ERROR** : 에러가 발생한 질의에 대한 로그만 기록
> -   **NOTICE** : 설정된 시간을 초과한 장기 실행 질의/트랜잭션의 로그, 에러가 발생한 질의에 대한 로그 기록
> -   **TIMEOUT** : 설정된 시간을 초과한 장기 실행 질의/트랜잭션의 로그 기록
> -   **ON** / **ALL** : 모든 로그 기록

**SQL\_LOG\_MAX\_SIZE**

> **SQL\_LOG\_MAX\_SIZE**는 SQL 로그 파일과 SLOW SQL 로그 파일의 최대 크기를 지정하는 파라미터이다. 값 뒤에 B, K, M, G로 단위를 붙일 수 있으며, 각각 Bytes, Kilobytes, Megabytes, Gigabytes를 의미한다. 단위 생략 시 K로 지정된다. 기본값은 **10,000** (KB)이다.
>
> -   **SQL\_LOG** 파라미터가 **ON** 으로 설정된 경우에 생성되는 SQL 로그 파일의 크기가 파라미터의 설정값에 도달하면 *broker\_name\_id.sql.log.bak*이 생성된다.
> -   **SLOW\_LOG** 파라미터가 **ON** 으로 설정된 경우에 생성되는 SLOW SQL 로그 파일의 크기가 이 파라미터의 설정값에 도달하면 *broker\_name\_id.slow.log.bak*이 생성된다.

#### 샤드

SHARD 기능을 사용하려면 **rye\_broker.conf.shard**를 참고하여 **rye\_broker.conf**에 다음 파라미터들을 설정해야 한다.

**SHARD**

> SHARD 기능의 활성화 여부를 지정하는 파라미터이다. **ON** 또는 **OFF**로 설정하며, 기본값은 **OFF**이다.

**SHARD\_CONNECTION\_FILE**

> shard 연결 파일의 경로이다. shard 연결 파일은 **$Rye/conf** 내에 위치해야 한다. 자세한 설명은 shard 연결 파일 &lt;shard-connection-file&gt; 을 참고한다.

**SHARD\_DB\_NAME**

> shard DB의 이름으로서 응용의 연결 요청이 유효한지 검사하는 데 사용된다.

**SHARD\_DB\_PASSWORD**

> backend shard DB의 사용자 비밀번호로서, CAS 프로세스에서 backend DBMS와 연결을 수행하는데 사용되며, 응용의 연결 요청이 유효한지 검사하는 데에도 사용된다. 모든 shard DB의 사용자 비밀번호는 동일해야 한다.
>
> rye\_broker.conf에 **SHARD\_DB\_PASSWORD**의 값을 노출시키고 싶지 않은 경우 환경 변수를 사용할 수 있다. 환경 변수 이름의 포맷은 &lt;*broker\_name*&gt;**\_SHARD\_DB\_PASSWORD**
>  이고, &lt;*broker\_name*&gt;은 항상 대문자로 변환되어야 한다. 예를 들어, 브로커의 이름이 *shard1*이라면 shard DB 암호를 설정하는 환경 변수 이름은 **SHARD1\_SHARD\_DB\_PASSWORD**가 된다. 단, "rye broker restart" 명령으로 SHARD 기능이 재구동되는 경우 **SHARD\_DB\_PASSWORD**의 환경 변수 또는 rye\_broker.conf의 **SHARD\_DB\_PASSWORD** 파라미터 값이 반드시 설정되어 있어야 한다.
>
>     export SHARD1_SHARD_DB_PASSWORD=shard123
>
> SHARD\_DB\_USER/SHARD\_DB\_PASSWORD 파라미터는 제거될 예정(deprecated)이므로, 응용 프로그램을 통해 접속 정보를 입력할 것을 권장한다.
>
**SHARD\_DB\_USER**

> backend shard DB의 사용자 이름으로서, CAS 프로세스에서 backend DBMS와 연결을 수행하는데 사용되며, 응용의 연결 요청이 유효한지 검사하는 데에도 사용된다. 모든 shard DB의 사용자 이름은 동일해야 한다.
>
> SHARD\_DB\_USER/SHARD\_DB\_PASSWORD 파라미터는 제거될 예정(deprecated)이므로, 응용 프로그램을 통해 접속 정보를 입력할 것을 권장한다.
>
**SHARD\_IGNORE\_HINT**

> 이 값이 ON이면 특정 shard로 연결하기 위해 제공되는 힌트가 무시되고, 정해진 규칙에 따라 접속할 데이터베이스를 선택한다. 기본값은 **OFF** 이다. 모든 데이터베이스가 같은 데이터로 복제되어 있는 상태에서 읽기 부하를 자동으로 로드 밸런싱하여 처리하고자 할 때 사용할 수 있는 방식이다. 예를 들어 응용 프로그램의 부하를 여러 개의 복제 노드 중 하나에 접속하고자 할 때 특정 shard 하나의 연결만 제공하면 어느 노드(데이터베이스)에 연결할지는 proxy가 자동으로 결정한다.

**SHARD\_KEY\_FILE**

> shard key 설정 정보 파일의 경로이다. shard key 설정 파일은 **$Rye/conf** 내에 위치해야 한다. 자세한 설명은 shard key 설정 파일 &lt;shard-key-configuration-file&gt; 을 참고한다.

**SHARD\_KEY\_FUNCTION\_NAME**

> shard key에 대한 사용자 해시 함수의 이름을 지정하기 위한 파라미터이다. 자세한 내용은 setting-user-defined-hash-function 를 참고한다.

**SHARD\_KEY\_LIBRARY\_NAME**

> shard key에 대한 사용자 해시 함수를 지정하기 위해 실행 시간에 로딩 가능한 라이브러리 경로를 지정한다. **SHARD\_KEY\_LIBRARY\_NAME** 파라미터가 설정된 경우 반드시 **SHARD\_KEY\_FUNCTION\_NAME** 파라미터도 설정되어야 한다. 자세한 내용은 setting-user-defined-hash-function 을 참고한다.

**SHARD\_KEY\_MODULAR**

> 내장된 shard key 해시 함수 결과의 범위를 지정하기 위한 파라미터로서, 기본 shard key 해시 함수의 결과는 shard\_key(정수형) % SHARD\_KEY\_MODULAR이다. 최소값은 1, 최대값은 256이다. 관련된 내용은 shard key 설정 파일 &lt;shard-key-configuration-file&gt; 과 setting-user-defined-hash-function 을 참고한다.

**SHARD\_MAX\_CLIENTS**

> proxy로 동시에 연결 가능한 응용의 개수이다. 기본값은 256이며, 최대값은 proxy 당 10,000이다.

**SHARD\_MAX\_PREPARED\_STMT\_COUNT**

> proxy가 관리하는 statement pool의 최대 크기이다. 기본값은 10,000이다.

**SHARD\_NUM\_PROXY**

> proxy 프로세스의 개수이다. 기본값은 1 이며, 최대값은 8이다.

**SHARD\_PROXY\_CONN\_WAIT\_TIMEOUT**

> 이 파라미터로 명시한 시간 동안 아무런 요청이 없으면 CAS가 DB와의 접속을 끊는다. 기본값은 **8h**이다. 값 뒤에 ms, s, min, h의 단위 지정이 가능하며, 각각 milliseconds, seconds, minutes, hours를 의미한다. 단위가 생략되면 s로 지정된다. 이전 비밀번호 정보를 지닌 CAS는 더 이상 사용할 수 없으므로 종료되어야 되는데, 이 기능은 이러한 CAS가 불필요하게 계속 유지되는 것을 방지한다.

**SHARD\_PROXY\_LOG**

> proxy 로그 레벨로서 다음의 값 중 하나로 설정 가능하다.
>
> -   **ALL**: 모든 로그 기록
> -   **ON**: 모든 로그 기록
> -   **SHARD**: shard DB 선택과 처리에 대한 로그 기록
> -   **SCHEDULE**: 작업 할당에 대한 로그 기록
> -   **NOTICE**: 주요한 알림에 대한 로그 기록
> -   **TIMEOUT**: 임계 시간 초과에 대한 로그 기록
> -   **ERROR**: 에러 로그 기록
> -   **NONE**: 로그 기록하지 않음
> -   **OFF**: 로그 기록하지 않음

**SHARD\_PROXY\_LOG\_DIR**

> proxy 로그를 저장할 디렉터리 경로이다.

**SHARD\_PROXY\_LOG\_MAX\_SIZE**

> proxy 로그 파일의 최대크기이다. 값 뒤에 B, K, M, G의 단위 지정이 가능하며, 각각 Bytes, Kilobytes, Megabytes, Gigabytes를 의미한다. 단위 생략 시 K로 지정된다. 최대 1,000,000(KB)까지 설정할 수 있다.

**SHARD\_PROXY\_SHM\_ID**

> proxy가 이용하는 공유 메모리 ID 를 지정하기 위한 파라미터로 시스템 내에서 유일한 값이어야 한다.

**SHARD\_PROXY\_TIMEOUT**

> proxy에서 CAS가 사용 가능해지기를 기다리거나 statement가 준비(prepare)되기를 기다리는 최대 시간. 대기 시간이 만료되면 드라이버의 요청을 에러 처리함. 기본값: 30(초). 이 값이 0이면 시스템 파라미터 query\_timeout의 값에 의해 대기 시간이 결정되며, query\_timeout의 값도 0이면 무한 대기한다. SHARD\_PROXY\_TIMEOUT의 값이 0보다 크면 query\_timeout 값과 SHARD\_PROXY\_TIMEOUT 값 중 큰 값에 의해 대기 시간이 결정된다. 값 뒤에 ms, s, min, h의 단위 지정이 가능하며, 각각 milliseconds, seconds, minutes, hours를 의미한다. 단위가 생략되면 s로 지정된다.

proxy 설정을 위해 필요한 파라미터

Rye proxy 설정을 위해서는 SHARD\_MAX\_CLIENTS, MAX\_NUM\_APPL\_SERVER, SHARD\_NUM\_PROXY의 설정이 필요하다.

-   Linux에서 proxy 프로세스 한 개당 사용되는 파일 디스크립터(fd)는 다음과 같이 제한된다.
    -   "((SHARD\_MAX\_CLIENTS + MAX\_NUM\_APPL\_SERVER) / SHARD\_NUM\_PROXY) + 256" &lt;= 10,000

위의 공식을 자세히 설명하면 다음과 같다.

-   SHARD\_MAX\_CLIENTS는 SHARD 구성 시스템에 접속하는 응용 프로그램들의 최대 접속 개수를 나타낸다.
-   MAX\_NUM\_APPL\_SERVER는 proxy 시스템에 접속하는 모든 CAS들의 최대 접속 개수를 나타낸다.
-   SHARD\_NUM\_PROXY는 SHARD 구성 시스템에서 사용하는 proxy 프로세스의 개수를 나타낸다.
-   "SHARD\_MAX\_CLIENTS / SHARD\_NUM\_PROXY"는 proxy 프로세스 한 개당 접속하는 응용 프로그램들의 최대 접속 개수이다.
-   "MAX\_NUM\_APPL\_SERVER / SHARD\_NUM\_PROXY"는 proxy 프로세스 한 개당 접속하는 CAS들의 최대 접속 개수이다.
-   256은 Linux에서 proxy 프로세스 한 개당 내부적으로 사용되는 fd의 개수이다.

Linux 시스템에서 SHARD 파라미터를 설정하는 예로, 응용 프로그램의 최대 동시 접속 개수(SHARD\_MAX\_CLIENTS)를 5,000으로 하고, CAS의 최대 개수(MAX\_NUM\_APPL\_SERVER)를 200으로 하며, proxy 프로세스의 최대 개수(SHARD\_NUM\_PROXY)를 1로 하면,(5,000 + 200)/1 + 256 = 5,456 이 되어 10,000보다 작으므로 이러한 설정은 가능하다.

이와 관련하여 각 프로세스 간 연결 관계를 살펴보면 다음과 같다. "proxy"는 "응용 client"와 "CAS" 사이에서 연결을 중재하는 역할을 수행한다.

아래에서 \[\]는 프로세스를 나타내며, -&gt;는 요청하는 방향을 나타낸다.

    [응용 client]  --(최초 접속 요청)--------------->  [broker] (proxy 선택)
                   <--(연결할 proxy 알려줌)----
                   --------------------------------->  [proxy] --(CAS 선택)--> [CAS] ---> [DB server]
                   <---------------------------------          <--------------       <--- 
                   <--(이후 같은 proxy 사용)-------->          <------------->       <-->

broker는 응용 client가 최초 접속을 요청할 때 proxy를 선택하기 위해 한 번만 사용되고, 이후 Rye는 \[응용 client\] - \[proxy\] - \[CAS\] - \[DB Server\]의 연결을 유지한다.

또한, CAS는 DB server와 연결된 이후 계속 연결을 유지한다.

#### 기타

**MAX\_STRING\_LENGTH**

> **MAX\_STRING\_LENGTH**는 BIT, VARBIT, CHAR, VARCHAR인 데이터 타입에 대해서 최대 문자열 길이를 지정하는 파라미터이다. 기본값인 **-1**로 설정되면 데이터베이스에서 정의된 문자열 길이가 그대로 사용되고, 파라미터의 값이 **100** 으로 설정되면 임의의 속성이 VARCHAR(1000)으로 정의되었어도 100으로 정의된 것처럼 동작한다.

**SERVICE**

> **SERVICE**는 해당 브로커의 구동 여부를 결정하기 위한 파라미터로, **ON** 또는 **OFF** 의 값으로 설정된다. 기본값은 **ON**이며, 이 파라미터가 **ON** 으로 설정된 경우에만 해당 브로커를 구동할 수 있다.

**SOURCE\_ENV**

> **SOURCE\_ENV**는 브로커 각각에 대해 개별적으로 운영체제 환경 변수를 설정할 수 있는 파일을 정하는 파라미터로, 파일 확장자는 반드시 **env** 여야 한다. **rye.conf**에서 지정하는 모든 파라미터는 환경 변수를 통해서도 설정할 수 있다. 예를 들어, **rye.conf**에서 **lock\_timeout**은 환경 변수 **Rye\_LOCK\_TIMEOUT**으로 지정할 수 있다. 또 다른 예로, broker1에서만 데이터 정의문 수행을 차단하려면 **SOURCE\_ENV**에서 지정한 파일에 **Rye\_BLOCK\_DDL\_STATEMENT**를 1로 설정하면 된다.
>
> 환경변수가 있으면 **rye.conf** 보다 우선한다. 기본값은 **rye.env**이다.

HA 설정
-------

HA 설정은 ha-configuration을 참고한다.

SHARD 설정
----------

SHARD 설정은 default-shard-conf을 참고한다.
